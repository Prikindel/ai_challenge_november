# Lesson 04 — Experiments with Reasoning Strategies

Эксперимент «Разные способы рассуждения» показывает, как одна и та же логическая задача решается четырьмя подходами:

1. **Direct** — запрос без дополнительных инструкций.  
2. **Step-by-step** — запрос с явным указанием «решай пошагово».  
3. **Prompt from other AI** — сначала просим модель придумать лучший промт, затем выполняем его.  
4. **Expert panel** — симулируем группу экспертов, которые обсуждают задачу и формируют общий вывод.

## Демоверсия

[Ссылка на демо](https://disk.yandex.ru/i/HSY759h1Xxyh8A)


## Краткое руководство

- Задача по умолчанию автоматически подставляется в поле ввода, её можно изменить вручную.
- Доступны пять режимов:
  - `Direct` — быстрый ответ без инструкций.
  - `Step-by-step` — пошаговый разбор с пояснениями.
  - `Prompt from other AI` — генерация нового промта + решение по нему.
  - `Expert panel` — три виртуальных эксперта и их общий итог.
  - `Comparison` — запрос у LLM, чтобы сравнить собранные ответы.  
    (В интерфейсе есть и локальная кнопка «Показать сравнение», она не обращается к модели.)
- Результаты группируются по карточкам, а статус каждого режима видно в индикаторе шагов.
- Все обращения к модели идут через `AIRepository`/`OpenAIClient`. История JSON-запросов доступна в debug-полях.

## Структура проекта

```
lesson-04-multi-reasoning/
├── server/
│   └── src/main/kotlin/com/prike/
│       ├── Main.kt
│       ├── Config.kt
│       ├── domain/
│       │   ├── agent/
│       │   │   ├── BaseAgent.kt
│       │   │   └── (будущий) ReasoningAgent.kt
│       │   └── exception/
│       ├── data/
│       │   ├── client/ (OpenAIClient и др.)
│       │   ├── repository/
│       │   ├── mapper/
│       │   └── dto/
│       ├── presentation/
│       │   ├── controller/
│       │   └── dto/
│       └── di/
├── client/ (index.html, style.css, app.js)
├── config/
│   ├── ai.yaml.example
│   └── (при необходимости) reasoning.yaml
├── .env.example
└── README.md (этот файл)
```

## Шаги по запуску

1. Убедитесь, что в корне репозитория есть `.env` с `OPENAI_API_KEY`.  
2. Скопируйте `config/ai.yaml.example` → `config/ai.yaml` и впишите параметры модели.  
3. Запустите сервер:
   ```bash
   cd lesson-04-multi-reasoning/server
   ./gradlew run
   ```
4. Откройте `http://localhost:8080` — должен отдаться клиент из `client/`.

## Текущее состояние

- [x] Захардкоженная логическая задача со сменой через UI.  
- [x] `ReasoningAgent` поддерживает режимы direct, step-by-step, prompt-from-other-ai, expert-panel и comparison.  
- [x] DTO и контроллер выдают подробный JSON с ответами всех режимов.  
- [x] Обновлённый UI позволяет запускать режимы по отдельности и строить сравнение.  
- [x] Добавлена кнопка «Запросить сравнение у LLM».  

