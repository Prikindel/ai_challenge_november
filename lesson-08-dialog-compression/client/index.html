<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üî• –î–µ–Ω—å 8. –°–∂–∞—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="app">
        <header class="hero">
            <div class="hero-text">
                <h1>üî• –î–µ–Ω—å 8. –°–∂–∞—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞</h1>
                <p>
                    –ò—Å—Å–ª–µ–¥—É–π—Ç–µ, –∫–∞–∫ –∞–≥–µ–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–∂–∏–º–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞, —ç–∫–æ–Ω–æ–º–∏—Ç —Ç–æ–∫–µ–Ω—ã –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
                    –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.
                </p>
            </div>
            <div class="hero-actions">
                <button id="openSummaryModal" class="ghost-button" type="button">–ü—Ä–æ—Å–º–æ—Ç—Ä summary</button>
                <button id="resetDialogButton" class="ghost-button" type="button">–°–±—Ä–æ—Å–∏—Ç—å –¥–∏–∞–ª–æ–≥</button>
            </div>
        </header>

        <main class="main-layout">
            <section class="card chat-card">
                <header class="card-header">
                    <h2>–î–∏–∞–ª–æ–≥</h2>
                    <span class="status-pill" id="dialogStatus">–ì–æ—Ç–æ–≤ –∫ –¥–∏–∞–ª–æ–≥—É</span>
                </header>
                <div id="conversationList" class="conversation-list"></div>
                <form id="messageForm" class="message-form">
                    <label for="messageInput" class="sr-only">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                    <textarea id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞..." rows="3" required></textarea>
                    <div class="form-footer">
                        <div class="inline-settings">
                            <label class="field">
                                <span>–ò–Ω—Ç–µ—Ä–≤–∞–ª summary</span>
                                <input id="summaryIntervalInput" type="number" min="1" value="10" />
                            </label>
                            <label class="field">
                                <span>–ú–∞–∫—Å. summary –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ</span>
                                <input id="maxSummariesInput" type="number" min="0" value="3" />
                            </label>
                            <label class="field">
                                <span>–†–µ–∂–∏–º</span>
                                <select id="modeSelect">
                                    <option value="normal" selected>–û–±—ã—á–Ω—ã–π</option>
                                    <option value="comparison">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω</option>
                                </select>
                            </label>
                        </div>
                        <button id="sendButton" type="submit" class="primary-button">
                            –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                            <span class="loader" aria-hidden="true"></span>
                        </button>
                    </div>
                    <p class="form-hint" id="modeHint">
                        –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∞–≥–µ–Ω—Ç –∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∏ —Å–∂–∞—Ç–∏—è.
                    </p>
                </form>
            </section>

            <aside class="sidebar">
                <section class="card compact" id="metricsCard">
                    <header class="card-header">
                        <h3>–ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–∞</h3>
                    </header>
                    <div class="metrics" id="metricsContent">
                        <p class="empty">–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ –∏ —ç–∫–æ–Ω–æ–º–∏—é.</p>
                    </div>
                </section>

                <section class="card compact" id="comparisonCard">
                    <header class="card-header">
                        <h3>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω</h3>
                    </header>
                    <div class="comparison-controls">
                        <label class="field">
                            <span>–°—Ü–µ–Ω–∞—Ä–∏–π</span>
                            <select id="scenarioSelect"></select>
                        </label>
                        <button id="runComparisonButton" class="secondary-button" type="button">
                            –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω
                        </button>
                    </div>
                    <div id="comparisonResults" class="comparison-results empty">
                        <p class="empty">–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∂–∏–º—ã.</p>
                    </div>
                </section>

                <section class="card compact" id="historyCard">
                    <header class="card-header">
                        <h3>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–æ–≤</h3>
                        <span id="tokensSavedCounter" class="chip">–≠–∫–æ–Ω–æ–º–∏—è: 0 —Ç–æ–∫–µ–Ω–æ–≤</span>
                    </header>
                    <div id="historyList" class="history-list">
                        <p class="empty">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø—É—Å–∫–æ–≤ ‚Äî –Ω–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥.</p>
                    </div>
                </section>
            </aside>
        </main>

        <section class="card theory-card">
            <header class="card-header">
                <h2>–¢–µ–æ—Ä–∏—è</h2>
            </header>
            <div class="theory-grid">
                <article class="theory-block">
                    <h3>–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Å–∂–∏–º–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é</h3>
                    <p>
                        –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É –ø—Ä–æ–º–ø—Ç–∞. –ß–µ–º –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–µ–º –≤—ã—à–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏
                        –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –º–æ–¥–µ–ª–∏. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π –ø–æ–º–æ–≥–∞–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∏ —É—Å–∫–æ—Ä—è–µ—Ç
                        –æ—Ç–≤–µ—Ç—ã.
                    </p>
                </article>
                <article class="theory-block">
                    <h3>–ü–æ–¥—Ö–æ–¥—ã –∫ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏</h3>
                    <ul>
                        <li><strong>Rolling summary:</strong> –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë–º –∫–æ–Ω—Å–ø–µ–∫—Ç –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.</li>
                        <li><strong>Retrieval-based:</strong> —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–∫—Ç—ã –∏ –¥–æ—Å—Ç–∞—ë–º —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ.</li>
                        <li><strong>Hybrid:</strong> –æ–±—ä–µ–¥–∏–Ω—è–µ–º summary –∏ –≤—ã–±–æ—Ä–∫—É —Ñ–∞–∫—Ç–æ–≤.</li>
                    </ul>
                </article>
                <article class="theory-block">
                    <h3>–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã</h3>
                    <p>
                        –êgg—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –Ω—é–∞–Ω—Å—ã. Summary —Å—Ç–æ–∏—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å, –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ
                        –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏. –ù–µ–æ–±—Ö–æ–¥–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –∏—Å–∫–∞–∂–µ–Ω–∏—è–º–∏ –∏ –ø–µ—Ä–µ—Å–∫–∞–∑–∞–º–∏ –º–æ–¥–µ–ª–∏.
                    </p>
                </article>
                <article class="theory-block">
                    <h3>–ú–µ—Ç—Ä–∏–∫–∏</h3>
                    <ul>
                        <li>–î–ª–∏–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ (prompt tokens)</li>
                        <li>–¢–æ—á–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤</li>
                        <li>–°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ ¬´–ø–æ–ª–Ω–æ–π¬ª –∏—Å—Ç–æ—Ä–∏–∏</li>
                    </ul>
                </article>
            </div>
        </section>
    </div>

    <div id="summaryModal" class="modal" aria-hidden="true">
        <div class="modal-overlay" data-close="summaryModal"></div>
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="summaryModalTitle">
            <header class="modal-header">
                <h2 id="summaryModalTitle">Summary –±–ª–æ–∫–∏</h2>
                <button class="icon-button" type="button" data-close="summaryModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
                    √ó
                </button>
            </header>
            <div id="summaryList" class="modal-body"></div>
        </div>
    </div>

    <div id="toastContainer" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>
