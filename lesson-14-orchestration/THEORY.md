# üß† –¢–µ–æ—Ä–∏—è: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

## –ß—Ç–æ —Ç–∞–∫–æ–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤?

**–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º LLM —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç–æ–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –≤—ã–±–∏—Ä–∞—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –∑–∞–¥–∞—á.

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:

**LLM —Å–∞–º–∞ –∏–∑—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–π –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.**

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (lesson-13), –≥–¥–µ –º—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –¥–≤—É—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç:
- **–ù–µ—Å–∫–æ–ª—å–∫–æ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤** (3+)
- **–ú–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** (9+)
- **–°–ª–æ–∂–Ω—ã–µ —Ñ–ª–æ—É** —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç** ‚Äî –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö

---

## –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è?

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ MCP —Å–µ—Ä–≤–µ—Ä—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
2. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å (—Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞, –¥–æ—Å—Ç–∞–≤–∫–∞)
3. **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî LLM —Å–∞–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
4. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –Ω–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

1. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏** ‚Äî —Å–ª–æ–∂–Ω–µ–µ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É LLM –≤—ã–±—Ä–∞–ª–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –±–æ–ª—å—à–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —á—Ç–æ–±—ã LLM –ø–æ–Ω–∏–º–∞–ª–∞ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–µ—Ä–µ–ø–∏—Å–∫—É –∏ –æ—Ç–ø—Ä–∞–≤—å –æ—Ç—á—ë—Ç"
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OrchestrationAgent  ‚îÇ
‚îÇ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π      ‚îÇ
‚îÇ  —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚ñ∫ LLM (—Å tools –∏–∑ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤)
       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îú‚îÄ‚ñ∫ tool_call: get_chat_history
       ‚îÇ   ‚îÇ   (–∏–∑ data-collection —Å–µ—Ä–≤–µ—Ä–∞)
       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îú‚îÄ‚ñ∫ tool_call: analyze_sentiment
       ‚îÇ   ‚îÇ   (–∏–∑ data-processing —Å–µ—Ä–≤–µ—Ä–∞)
       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îî‚îÄ‚ñ∫ tool_call: send_telegram_message
       ‚îÇ       (–∏–∑ reporting —Å–µ—Ä–≤–µ—Ä–∞)
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MCPToolAgent       ‚îÇ
‚îÇ  (–∞–≥—Ä–µ–≥–∞—Ü–∏—è         ‚îÇ
‚îÇ   –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MCPClientManager   ‚îÇ
‚îÇ  (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è     ‚îÇ
‚îÇ   –∫ —Å–µ—Ä–≤–µ—Ä–∞–º)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚ñ∫ MCP Server 1 (data-collection)
       ‚îÇ   ‚îú‚îÄ‚ñ∫ get_chat_history()
       ‚îÇ   ‚îú‚îÄ‚ñ∫ get_telegram_messages()
       ‚îÇ   ‚îî‚îÄ‚ñ∫ get_file_content()
       ‚îÇ
       ‚îú‚îÄ‚ñ∫ MCP Server 2 (data-processing)
       ‚îÇ   ‚îú‚îÄ‚ñ∫ analyze_sentiment()
       ‚îÇ   ‚îú‚îÄ‚ñ∫ extract_keywords()
       ‚îÇ   ‚îî‚îÄ‚ñ∫ calculate_statistics()
       ‚îÇ
       ‚îî‚îÄ‚ñ∫ MCP Server 3 (reporting)
           ‚îú‚îÄ‚ñ∫ generate_report()
           ‚îú‚îÄ‚ñ∫ save_to_file()
           ‚îî‚îÄ‚ñ∫ send_telegram_message()
```

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üì
2. OrchestrationAgent –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
   ‚Üì
3. –§–æ—Ä–º–∏—Ä—É–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (–±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
   ‚Üì
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ LLM —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö
   ‚Üì
5. LLM –∏–∑—É—á–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ—à–∞–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞ 1
   ‚Üì
6. MCPClientManager –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –≤—ã–∑–æ–≤ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
   ‚Üì
7. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ LLM (—Å —É—á—ë—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞)
   ‚Üì
8. LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Ä–µ—à–∞–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞ 2
   ‚Üì
9. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —à–∞–≥ 6-7
   ‚Üì
10. LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Ä–µ—à–∞–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞ 3
   ‚Üì
11. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è —à–∞–≥ 6-7
   ‚Üì
12. LLM —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

---

## –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤:

–í lesson-13 —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∑–Ω–∞–ª –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö:
```
"–£ —Ç–µ–±—è –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- get_chat_history: –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –∑–∞ –ø–µ—Ä–∏–æ–¥
- send_telegram_message: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram"
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–º–ø—Ç
- –ü—Ä–æ–º–ø—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–ª–∏–Ω–Ω—ã–º –∏ —Å–ª–æ–∂–Ω—ã–º
- –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

### –†–µ—à–µ–Ω–∏–µ: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç **–Ω–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**, –∞ –¥–∞—ë—Ç –æ–±—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

```
"–¢—ã ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.

–£ —Ç–µ–±—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
–ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä—è—Å–Ω—è–µ—Ç –µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
–í–ù–ò–ú–ê–¢–ï–õ–¨–ù–û —á–∏—Ç–∞–π –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.
–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á."
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- LLM —Å–∞–º–∞ –∏–∑—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

### –û—Ç–∫—É–¥–∞ LLM —É–∑–Ω–∞—ë—Ç –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö?

LLM –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —á–µ—Ä–µ–∑ **function calling**:

```json
{
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "get_chat_history",
        "description": "–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –∏–∑ –≤–µ–±-—á–∞—Ç–∞ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏...",
        "parameters": {
          "type": "object",
          "properties": {
            "startTime": {
              "type": "number",
              "description": "–ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö..."
            }
          }
        }
      }
    }
  ]
}
```

LLM —á–∏—Ç–∞–µ—Ç `description` –∏ `parameters` –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

---

## –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è?

LLM –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞, –ø–æ—ç—Ç–æ–º—É **–≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**.

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–∏:

1. **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** ‚Äî –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
2. **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** ‚Äî –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
3. **–ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω—É–∂–Ω—ã** ‚Äî —á—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –∑–∞—á–µ–º
4. **–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç** ‚Äî –∫–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è:

```kotlin
server.addTool(
    name = "get_chat_history",
    description = """
        –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –∏–∑ –≤–µ–±-—á–∞—Ç–∞ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏.
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–æ–ª—è–º–∏ (user/assistant) –∏ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.
        
        –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –∏–∑ –≤–µ–±-—á–∞—Ç–∞.
        –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
        
        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
        - startTime: –Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ (Unix timestamp –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
        - endTime: –∫–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ (Unix timestamp –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π:
        [{"role": "user|assistant", "content": "...", "timestamp": ...}]
    """.trimIndent(),
    inputSchema = Tool.Input(
        properties = buildJsonObject {
            putJsonObject("startTime") {
                put("type", "number")
                put("description", "–ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (Unix timestamp * 1000)")
            }
            putJsonObject("endTime") {
                put("type", "number")
                put("description", "–ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (Unix timestamp * 1000)")
            }
        },
        required = listOf("startTime", "endTime")
    )
)
```

### –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è:

```kotlin
server.addTool(
    name = "get_chat_history",
    description = "–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É",  // ‚ùå –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ
    // ...
)
```

---

## –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤

### –ó–∞–¥–∞—á–∞:

–ö–æ–≥–¥–∞ LLM –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –∫ –∫–∞–∫–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—É –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤.

### –†–µ—à–µ–Ω–∏–µ:

1. **–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞** –¥–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Å–µ—Ä–≤–µ—Ä–µ:
```kotlin
data class LLMTool(
    val type: String = "function",
    val function: LLMFunction,
    val serverId: String  // ID —Å–µ—Ä–≤–µ—Ä–∞-–∏—Å—Ç–æ—á–Ω–∏–∫–∞
)
```

2. **–ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞** –∏—Å–ø–æ–ª—å–∑—É–µ–º `serverId` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:
```kotlin
fun callTool(toolName: String, arguments: JsonObject): String {
    val serverId = getServerIdForTool(toolName)
    val client = mcpClients[serverId]
    return client.callTool(toolName, arguments)
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω:

–ï—Å–ª–∏ –¥–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏–º–µ—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏:
- –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (`data_collection_get_chat_history`)
- –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `serverId` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
- –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º—ë–Ω (–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏)

–î–ª—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º **–≤–∞—Ä–∏–∞–Ω—Ç 3** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

---

## –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### –ó–∞–¥–∞—á–∞:

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –≤—Å–µ—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ –¥–ª—è LLM.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```kotlin
class MCPToolAgent(
    private val mcpClientManager: MCPClientManager
) {
    suspend fun getLLMTools(): List<LLMTool> {
        val allTools = mutableListOf<LLMTool>()
        
        // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
        mcpClientManager.getAllServers().forEach { (serverId, client) ->
            val mcpTools = client.listTools()
            
            mcpTools.forEach { mcpTool ->
                val llmTool = mcpToolToLLMTool(mcpTool, serverId)
                allTools.add(llmTool)
            }
        }
        
        return allTools
    }
    
    private fun mcpToolToLLMTool(mcpTool: MCPTool, serverId: String): LLMTool {
        return LLMTool(
            type = "function",
            function = LLMFunction(
                name = mcpTool.name,
                description = mcpTool.description,
                parameters = mcpTool.inputSchema
            ),
            serverId = serverId  // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
        )
    }
}
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤:

```kotlin
class MCPClientManager {
    private val mcpClients = mutableMapOf<String, MCPClient>()
    
    suspend fun connectToServers(config: List<MCPServerConfig>) {
        config.forEach { serverConfig ->
            val client = MCPClient()
            
            when (serverConfig.type) {
                "local" -> {
                    // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ JAR —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ stdio
                    client.connectToServer(
                        jarPath = serverConfig.jarPath,
                        configPath = serverConfig.configPath
                    )
                }
                "remote" -> {
                    // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ remote —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSE/WebSocket
                    client.connectToRemoteServer(serverConfig.url)
                }
            }
            
            mcpClients[serverConfig.id] = client
        }
    }
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```kotlin
suspend fun connectToServers(config: List<MCPServerConfig>) {
    config.forEach { serverConfig ->
        try {
            val client = MCPClient()
            client.connectToServer(serverConfig.jarPath, serverConfig.configPath)
            mcpClients[serverConfig.id] = client
            logger.info("Connected to MCP server: ${serverConfig.id}")
        } catch (e: Exception) {
            logger.error("Failed to connect to MCP server: ${serverConfig.id}", e)
            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ä–∞–±–æ—Ç—É —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏
        }
    }
}
```

---

## –î–ª–∏–Ω–Ω—ã–µ —Ñ–ª–æ—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –ü—Ä–∏–º–µ—Ä —Ñ–ª–æ—É:

```
–ó–∞–¥–∞—á–∞: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–µ—Ä–µ–ø–∏—Å–∫—É –∑–∞ 7 –¥–Ω–µ–π, –∏–∑–≤–ª–µ–∫–∏ –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã, 
         —Ä–∞—Å—Å—á–∏—Ç–∞–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ –æ—Ç—á—ë—Ç –≤ Telegram"

–ò—Ç–µ—Ä–∞—Ü–∏—è 1:
  LLM: "–ú–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ"
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç get_chat_history (data-collection)
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç get_telegram_messages (data-collection)
  ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

–ò—Ç–µ—Ä–∞—Ü–∏—è 2:
  LLM: "–¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç–∞—é –¥–∞–Ω–Ω—ã–µ"
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç analyze_sentiment (data-processing)
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç extract_keywords (data-processing)
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç calculate_statistics (data-processing)
  ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ò—Ç–µ—Ä–∞—Ü–∏—è 3:
  LLM: "–°—Ñ–æ—Ä–º–∏—Ä—É—é –æ—Ç—á—ë—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—é"
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç generate_report (reporting)
  ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç send_telegram_message (reporting)
  ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ò—Ç–µ—Ä–∞—Ü–∏—è 4:
  LLM: "–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"
  ‚Üí —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π:

–í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏, —á—Ç–æ–±—ã LLM –≤–∏–¥–µ–ª–∞:
- –ö–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–∂–µ –±—ã–ª–∏ –≤—ã–∑–≤–∞–Ω—ã
- –ö–∞–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

```kotlin
val conversationHistory = mutableListOf<MessageDto>()

while (maxIterations > 0) {
    // –î–æ–±–∞–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –≤ –∑–∞–ø—Ä–æ—Å –∫ LLM
    val messages = buildList {
        add(systemPrompt)
        addAll(conversationHistory)  // –í—Å—è –∏—Å—Ç–æ—Ä–∏—è
    }
    
    val llmResponse = aiRepository.getMessageWithTools(messages, tools)
    
    if (llmResponse.hasToolCall()) {
        // –í—ã–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
        val result = callTool(toolCall)
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        conversationHistory.add(assistantMessage)
        conversationHistory.add(toolResultMessage)
    } else {
        // –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
        break
    }
}
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

### Lesson 13 (–ö–æ–º–ø–æ–∑–∏—Ü–∏—è):

- 1-2 MCP —Å–µ—Ä–≤–µ—Ä–∞
- 2-3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö
- –ü—Ä–æ—Å—Ç—ã–µ —Ñ–ª–æ—É (2-3 —à–∞–≥–∞)

### Lesson 14 (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è):

- 3+ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
- 9+ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- –°–ª–æ–∂–Ω—ã–µ —Ñ–ª–æ—É (5+ —à–∞–≥–æ–≤)

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

- –ü–∏—à–∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
- –û–±—ä—è—Å–Ω—è–π, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- –£–∫–∞–∑—ã–≤–∞–π —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 2. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

- –ò–∑–±–µ–≥–∞–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ (`get_chat_history`, –∞ –Ω–µ `get_data`)

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –õ–æ–≥–∏—Ä—É–π –≤—Å–µ –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –£–∫–∞–∑—ã–≤–∞–π, –∏–∑ –∫–∞–∫–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–∑–≤–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- –õ–æ–≥–∏—Ä—É–π –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç—É —Å –¥—Ä—É–≥–∏–º–∏
- –ü–µ—Ä–µ–¥–∞–≤–∞–π –æ—à–∏–±–∫–∏ –≤ LLM, –ø—É—Å—Ç—å –æ–Ω–∞ —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å
- –ù–µ –ø–∞–¥–∞–π –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –¢–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ
- –¢–µ—Å—Ç–∏—Ä—É–π –ø—Ä–æ—Å—Ç—ã–µ —Ñ–ª–æ—É (1-2 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)
- –¢–µ—Å—Ç–∏—Ä—É–π —Å–ª–æ–∂–Ω—ã–µ —Ñ–ª–æ—É (5+ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤)

---

## –í—ã–≤–æ–¥—ã

1. **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è** ‚Äî —ç—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–æ–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏
2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç** ‚Äî –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö
3. **–î–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è** ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è LLM
4. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –≤—ã–∑–æ–≤—ã –∫ —Å–µ—Ä–≤–µ—Ä–∞–º
5. **–î–ª–∏–Ω–Ω—ã–µ —Ñ–ª–æ—É** ‚Äî —Ç—Ä–µ–±—É—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞
6. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [MCP Protocol Specification](https://modelcontextprotocol.io/)
- [OpenAI Function Calling](https://platform.openai.com/docs/guides/function-calling)
- [OpenRouter API Documentation](https://openrouter.ai/docs)
- [Kotlin Coroutines Guide](https://kotlinlang.org/docs/coroutines-guide.html)

