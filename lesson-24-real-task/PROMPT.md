# –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: üî• –î–µ–Ω—å 24. –†–µ–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞

–¢—ã ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–æ–∑–¥–∞—é—â–∏–π —É—Ä–æ–∫ ¬´üî• –î–µ–Ω—å 24. –†–µ–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞¬ª –≤ –º–æ–¥—É–ª–µ `lesson-24-real-task`. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–µ–∫ **Kotlin + Ktor + Koog + SQLite** —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –Ω–∞ **vanilla JS**. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è **—Å –Ω—É–ª—è**, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É—Ä–æ–∫–æ–≤, –Ω–æ –≤—Å—ë —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ **Koog —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ**.

## üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—É—é –∑–∞–¥–∞—á—É** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—Å–µ—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π (RAG, MCP, LLM) –∏ **Koog** —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞. 

### –í—ã–±—Ä–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞: –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ —Å –Ω–µ–¥–µ–ª—å–Ω—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏–∑ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å—Ç–æ—Ä–æ–≤ (AppStore, Google Play) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –Ω–µ–¥–µ–ª—å –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ–º —É–ª—É—á—à–µ–Ω–∏–π/—É—Ö—É–¥—à–µ–Ω–∏–π.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞ Company Mobile Stores API
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ —á–µ—Ä–µ–∑ LLM (Koog)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π
- –í—ã—è–≤–ª–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π –∏ —É—Ö—É–¥—à–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º
- –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–∞ –≤ Telegram —á–µ—Ä–µ–∑ MCP

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **Koog** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–∞–≥–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ (@Tool)
- **MCP** ‚Äî –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á—ë—Ç–æ–≤ –≤ Telegram
- **LLM —á–µ—Ä–µ–∑ Koog** ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤
- **RAG MCP** ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î (SQLite)** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç–∑—ã–≤–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ)

#### 1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (VPS, Heroku, Vercel, Railway –∏ —Ç.–¥.)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ –≤ main
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏ (dev, staging, production)
- –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ø–ª–æ—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ö–æ—Å—Ç–∏–Ω–≥–æ–º (SSH, API)
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è
- LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫ –¥–µ–ø–ª–æ—è –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏–π

#### 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ App Store / Google Play
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å—Ç–æ—Ä—ã

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ App Store Connect / Google Play Console
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è release notes
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API —Å—Ç–æ—Ä–æ–≤
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ release notes

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–º

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ —Å–±–æ—Ä–æ–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏
- –û—Ç—á—ë—Ç—ã –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å CI/CD —Å–∏—Å—Ç–µ–º–∞–º–∏ (GitHub Actions, GitLab CI, Jenkins)
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ CI/CD
- LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏–π

#### 4. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —É–º–Ω—ã–º–∏ –∞–ª–µ—Ä—Ç–∞–º–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ (CPU, –ø–∞–º—è—Ç—å, –∑–∞–ø—Ä–æ—Å—ã)
- –£–º–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

#### 5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞–º–∏ –∏ SSL
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞–º–∏ –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DNS –∑–∞–ø–∏—Å–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å DNS –∏ SSL –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–µ—à–µ–Ω–∏–π

#### 6. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –±—ç–∫–∞–ø–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- MCP –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

```
–°–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ ‚Üí –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ LLM (Koog) ‚Üí –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å ‚Üí –í—ã—è–≤–ª–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π/—É—Ö—É–¥—à–µ–Ω–∏–π ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram (MCP)
```

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:
- –°–æ–±–∏—Ä–∞—Ç—å –æ—Ç–∑—ã–≤—ã —Å Company Mobile Stores API
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤—ã —á–µ—Ä–µ–∑ LLM –∏—Å–ø–æ–ª—å–∑—É—è Koog
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π
- –í—ã—è–≤–ª—è—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∏ —É—Ö—É–¥—à–µ–Ω–∏—è
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç —Å –∞–Ω–∞–ª–∏–∑–æ–º
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—á—ë—Ç –≤ Telegram —á–µ—Ä–µ–∑ MCP
- –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î (SQLite) –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–π

### API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤

**Endpoint:** `GET /api/v1/stores/{store}/apps/{package_id}/reviews`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `store` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ—Ä–∞: `appstore`, `googleplay`, `appgallery`, `rustore`
- `package_id` ‚Äî bundle id (iOS) –∏–ª–∏ package name (Android)

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "filter": {
    "fromDate": "2024-12-15T00:00:00Z",
    "toDate": "2024-12-22T23:59:59Z"
  },
  "pageSize": 100,
  "nextPageToken": null
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "type": "success",
  "data": {
    "reviews": [
      {
        "id": "review-id",
        "text": "–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞",
        "rating": 5,
        "date": "2024-12-20T10:30:00Z"
      }
    ],
    "pagination": {
      "nextPageToken": "...",
      "size": 50,
      "totalSize": 127
    }
  }
}
```

**–ù—É–∂–Ω—ã–µ –ø–æ–ª—è:** `id`, `text`, `rating` (–æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º)

---

## üìã –ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã)

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**
- –ö–∞–∂–¥—ã–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π —à–∞–≥ = –æ—Ç–¥–µ–ª—å–Ω—ã–π git-–∫–æ–º–º–∏—Ç.
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ **–°–¢–û–ü**, –ø–æ–∫–∞–∂–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –¥–æ–∂–¥–∏—Å—å ¬´–æ–∫, –ø—Ä–æ–¥–æ–ª–∂–∞–π¬ª.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –¥–µ–ª–∞–µ—Ç merge/commit –¥–∞–ª–µ–µ.

### –ö–æ–º–º–∏—Ç 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Koog

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ —Å –Ω—É–ª—è –Ω–∞ Koog.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞:
   ```
   lesson-24-real-task/
   ‚îú‚îÄ‚îÄ server/
   ‚îÇ   ‚îú‚îÄ‚îÄ build.gradle.kts
   ‚îÇ   ‚îî‚îÄ‚îÄ src/main/kotlin/com/prike/
   ‚îÇ       ‚îú‚îÄ‚îÄ Main.kt
   ‚îÇ       ‚îú‚îÄ‚îÄ config/
   ‚îÇ       ‚îú‚îÄ‚îÄ domain/
   ‚îÇ       ‚îî‚îÄ‚îÄ presentation/
   ‚îú‚îÄ‚îÄ client/
   ‚îÇ   ‚îú‚îÄ‚îÄ index.html
   ‚îÇ   ‚îî‚îÄ‚îÄ reviews-analysis.html
   ‚îú‚îÄ‚îÄ config/
   ‚îÇ   ‚îî‚îÄ‚îÄ server.yaml
   ‚îî‚îÄ‚îÄ data/
       ‚îî‚îÄ‚îÄ reviews.db (SQLite)
   ```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `build.gradle.kts`:
   - Ktor –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–∞
   - Koog –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞
   - SQLite –¥–ª—è –ë–î
   - Exposed –∏–ª–∏ JDBC –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
   - Kotlinx Serialization –¥–ª—è JSON

3. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π Ktor —Å–µ—Ä–≤–µ—Ä –≤ `Main.kt`:
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ routing
   - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (client/)
   - –ë–∞–∑–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

4. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config/server.yaml`:
   ```yaml
   server:
     port: 8080
   
   reviews:
     api:
       baseUrl: "https://stores.mobile.company-team.ru"
       store: "googleplay"
       packageId: "com.example.app"
   
   koog:
     enabled: true
     model: "gpt-4o-mini"
     apiKey: "${OPENAI_API_KEY}"
   
   telegram:
     mcp:
       enabled: true
       jarPath: "telegram-mcp-server/build/libs/telegram-mcp-server-1.0.0.jar"
     botToken: "${TELEGRAM_BOT_TOKEN}"
     chatId: "${TELEGRAM_CHAT_ID}"
   
   database:
     path: "data/reviews.db"
   ```

5. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π HTML (`client/index.html`):
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è
   - –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤

**–í–∞–∂–Ω–æ:**
- –í—Å—ë —Å –Ω—É–ª—è, –Ω–µ –∫–æ–ø–∏—Ä—É–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —É—Ä–æ–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω–æ–π

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞.

---

### –ö–æ–º–º–∏—Ç 2: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ Koog –∞–≥–µ–Ω—Ç

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É Koog –∞–≥–µ–Ω—Ç–∞.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (`domain/model/`):
   ```kotlin
   // Review.kt
   data class Review(
       val id: String,
       val text: String,
       val rating: Int,
       val date: String  // ISO8601
   )
   
   // ReviewAnalysis.kt
   data class ReviewAnalysis(
       val reviewId: String,
       val category: ReviewCategory,  // POSITIVE, NEGATIVE, NEUTRAL
       val topics: List<String>,
       val criticality: Criticality  // HIGH, MEDIUM, LOW
   )
   
   // WeekStats.kt
   data class WeekStats(
       val weekStart: String,
       val totalReviews: Int,
       val positiveCount: Int,
       val negativeCount: Int,
       val neutralCount: Int,
       val averageRating: Double,
       val analyses: List<ReviewAnalysis>
   )
   
   // WeekComparison.kt
   data class WeekComparison(
       val currentWeek: WeekStats,
       val previousWeek: WeekStats,
       val improvements: List<Improvement>,
       val degradations: List<Degradation>,
       val newIssues: List<String>,
       val resolvedIssues: List<String>
   )
   
   data class Improvement(
       val metric: String,
       val change: String,
       val reason: String
   )
   
   data class Degradation(
       val metric: String,
       val change: String,
       val reason: String
   )
   ```

2. –°–æ–∑–¥–∞—Ç—å Koog –∞–≥–µ–Ω—Ç (`domain/agent/ReviewsAnalyzerAgent.kt`):
   ```kotlin
   class ReviewsAnalyzerAgent(
       private val koog: Koog,
       private val config: ReviewsConfig
   ) {
       // –ü–æ–∫–∞ –ø—É—Å—Ç–æ–π, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–∏–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–º–∏—Ç–∞—Ö
   }
   ```

3. –°–æ–∑–¥–∞—Ç—å Config –∫–ª–∞—Å—Å—ã (`config/Config.kt`):
   - –ü–∞—Ä—Å–∏–Ω–≥ `server.yaml`
   - `ReviewsConfig`, `KoogConfig`, `TelegramConfig`, `DatabaseConfig`

**–í–∞–∂–Ω–æ:**
- –ú–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kotlinx Serialization –¥–ª—è JSON
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 3: HTTP –∫–ª–∏–µ–Ω—Ç –∏ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API –∏ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç–∑—ã–≤–æ–≤.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å HTTP –∫–ª–∏–µ–Ω—Ç (`data/client/ReviewsApiClient.kt`):
   ```kotlin
   class ReviewsApiClient(
       private val baseUrl: String,
       private val httpClient: HttpClient
   ) {
       suspend fun fetchReviews(
           store: String,
           packageId: String,
           fromDate: String,
           toDate: String,
           pageSize: Int = 100
       ): List<Review> {
           // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ API
           // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
           // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ id, text, rating
       }
   }
   ```

2. –î–æ–±–∞–≤–∏—Ç—å Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ `ReviewsAnalyzerAgent.kt`:
   ```kotlin
   class ReviewsAnalyzerAgent(
       private val koog: Koog,
       private val apiClient: ReviewsApiClient,
       private val config: ReviewsConfig
   ) {
       @Tool("–°–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ —Å —Å–µ—Ä–≤–µ—Ä–∞ Company Mobile Stores")
       fun fetchReviews(
           @Param("fromDate") fromDate: String,
           @Param("toDate") toDate: String
       ): List<Review> {
           return apiClient.fetchReviews(
               store = config.store,
               packageId = config.packageId,
               fromDate = fromDate,
               toDate = toDate
           )
       }
   }
   ```

3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Koog –≤ `Main.kt`:
   - –°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä Koog —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
   - –°–æ–∑–¥–∞—Ç—å `ReviewsAnalyzerAgent`
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–∞ –≤ Koog

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ktor HttpClient
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò–∑–≤–ª–µ–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ API

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 4: LLM –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Koog

**–ó–∞–¥–∞—á–∞:** –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤ —á–µ—Ä–µ–∑ LLM –∏—Å–ø–æ–ª—å–∑—É—è Koog.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ `ReviewsAnalyzerAgent.kt`:
   ```kotlin
   @Tool("–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ —á–µ—Ä–µ–∑ LLM")
   fun classifyReviews(
       @Param("reviews") reviews: List<Review>
   ): List<ReviewAnalysis> {
       val prompt = """
           –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ—Ç–∑—ã–≤—ã –∏ –≤–µ—Ä–Ω–∏ JSON –º–∞—Å—Å–∏–≤:
           [
             {
               "reviewId": "id",
               "category": "POSITIVE|NEGATIVE|NEUTRAL",
               "topics": ["—Ç–µ–º–∞1", "—Ç–µ–º–∞2"],
               "criticality": "HIGH|MEDIUM|LOW"
             }
           ]
           
           –û—Ç–∑—ã–≤—ã:
           ${reviews.joinToString("\n") { "${it.id}: ${it.text} (${it.rating})" }}
       """
       
       val response = koog.ask(prompt)
       return parseJsonArray<ReviewAnalysis>(response)
   }
   
   @Tool("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å —á–µ—Ä–µ–∑ LLM")
   fun compareWeeks(
       @Param("currentWeek") currentWeek: WeekStats,
       @Param("previousWeek") previousWeek: WeekStats
   ): WeekComparison {
       val prompt = """
           –°—Ä–∞–≤–Ω–∏ –æ—Ç–∑—ã–≤—ã —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏ –≤–µ—Ä–Ω–∏ JSON:
           {
             "improvements": [
               {"metric": "...", "change": "+15%", "reason": "..."}
             ],
             "degradations": [
               {"metric": "...", "change": "-10%", "reason": "..."}
             ],
             "newIssues": ["..."],
             "resolvedIssues": ["..."]
           }
           
           –¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è: ${currentWeek.toJson()}
           –ü—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è: ${previousWeek.toJson()}
       """
       
       val response = koog.ask(prompt)
       val comparisonData = parseJson<WeekComparisonData>(response)
       
       return WeekComparison(
           currentWeek = currentWeek,
           previousWeek = previousWeek,
           improvements = comparisonData.improvements,
           degradations = comparisonData.degradations,
           newIssues = comparisonData.newIssues,
           resolvedIssues = comparisonData.resolvedIssues
       )
   }
   ```

2. –î–æ–±–∞–≤–∏—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kotlinx Serialization
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `koog.ask()` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM
- –¢—Ä–µ–±–æ–≤–∞—Ç—å JSON —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- –ü–∞—Ä—Å–∏—Ç—å –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 5: –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î (SQLite) –∏ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î –∏ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –ë–î (`data/repository/Database.kt`):
   ```kotlin
   object ReviewsTable : Table("reviews") {
       val id = text("id").primaryKey()
       val text = text("text")
       val rating = integer("rating")
       val date = text("date")
       val weekStart = text("week_start")
       val createdAt = text("created_at")
   }
   
   object WeekAnalysesTable : Table("week_analyses") {
       val id = integer("id").autoIncrement().primaryKey()
       val weekStart = text("week_start").uniqueIndex()
       val totalReviews = integer("total_reviews")
       val positiveCount = integer("positive_count")
       val negativeCount = integer("negative_count")
       val neutralCount = integer("neutral_count")
       val averageRating = double("average_rating")
       val analysisJson = text("analysis_json")
       val createdAt = text("created_at")
   }
   ```

2. –°–æ–∑–¥–∞—Ç—å Repository (`data/repository/ReviewsRepository.kt`):
   - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤
   - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–æ–≤ –Ω–µ–¥–µ–ª—å
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Exposed –∏–ª–∏ JDBC

3. –î–æ–±–∞–≤–∏—Ç—å Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ `ReviewsAnalyzerAgent.kt`:
   ```kotlin
   @Tool("–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î")
   fun saveReviews(
       @Param("reviews") reviews: List<Review>,
       @Param("weekStart") weekStart: String
   ): Boolean {
       return repository.saveReviews(reviews, weekStart)
   }
   
   @Tool("–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é –∏–∑ –ë–î")
   fun getWeekReviews(
       @Param("weekStart") weekStart: String
   ): List<Review> {
       return repository.getWeekReviews(weekStart)
   }
   
   @Tool("–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–¥–µ–ª–∏ –≤ –ë–î")
   fun saveWeekAnalysis(
       @Param("weekStart") weekStart: String,
       @Param("stats") stats: WeekStats
   ): Boolean {
       return repository.saveWeekAnalysis(weekStart, stats)
   }
   
   @Tool("–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–∏ –∏–∑ –ë–î")
   fun getPreviousWeekAnalysis(
       @Param("currentWeekStart") currentWeekStart: String
   ): WeekStats? {
       return repository.getPreviousWeekAnalysis(currentWeekStart)
   }
   ```

4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î –≤ `Main.kt`:
   - –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
   - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Exposed –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- –ë–î –ª–æ–∫–∞–ª—å–Ω–∞—è (SQLite —Ñ–∞–π–ª)
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 6: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ —á–µ—Ä–µ–∑ Koog –∏ MCP –¥–ª—è Telegram

**–ó–∞–¥–∞—á–∞:** –¥–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–∞ —á–µ—Ä–µ–∑ LLM –∏ –æ—Ç–ø—Ä–∞–≤–∫—É –≤ Telegram —á–µ—Ä–µ–∑ MCP.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞ –≤ `ReviewsAnalyzerAgent.kt`:
   ```kotlin
   @Tool("–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown –æ—Ç—á—ë—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ–¥–µ–ª—å")
   fun generateReport(
       @Param("comparison") comparison: WeekComparison
   ): String {
       val prompt = """
           –°–æ–∑–¥–∞–π –ø–æ–¥—Ä–æ–±–Ω—ã–π Markdown –æ—Ç—á—ë—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ–¥–µ–ª—å:
           
           –¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è:
           - –í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤: ${comparison.currentWeek.totalReviews}
           - –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö: ${comparison.currentWeek.positiveCount}
           - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö: ${comparison.currentWeek.negativeCount}
           - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ${comparison.currentWeek.averageRating}
           
           –ü—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è:
           - –í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤: ${comparison.previousWeek.totalReviews}
           - –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö: ${comparison.previousWeek.positiveCount}
           - –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö: ${comparison.previousWeek.negativeCount}
           - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ${comparison.previousWeek.averageRating}
           
           –£–ª—É—á—à–µ–Ω–∏—è: ${comparison.improvements.joinToString(", ")}
           –£—Ö—É–¥—à–µ–Ω–∏—è: ${comparison.degradations.joinToString(", ")}
           –ù–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã: ${comparison.newIssues.joinToString(", ")}
           –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã: ${comparison.resolvedIssues.joinToString(", ")}
           
           –°–æ–∑–¥–∞–π –æ—Ç—á—ë—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏:
           - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
           - –ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å
           - –ß—Ç–æ —É—Ö—É–¥—à–∏–ª–æ—Å—å
           - –ù–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
           - –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
           - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
       """
       
       return koog.ask(prompt)
   }
   ```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å MCP –¥–ª—è Telegram:
   - –ï—Å–ª–∏ –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Telegram MCP —Å–µ—Ä–≤–µ—Ä ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `telegram-mcp-server`:
     - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `send_message(chatId, text)`
     - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API

3. –î–æ–±–∞–≤–∏—Ç—å Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (—á–µ—Ä–µ–∑ MCP):
   ```kotlin
   @Tool("–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–∞ –≤ Telegram —á–µ—Ä–µ–∑ MCP")
   fun sendReportToTelegram(
       @Param("report") report: String,
       @Param("chatId") chatId: String
   ): Boolean {
       // –í—ã–∑–æ–≤ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ send_message
       return telegramMCPClient.callTool("send_message", mapOf(
           "chatId" to chatId,
           "text" to report
       ))
   }
   ```

4. –°–æ–∑–¥–∞—Ç—å MCP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram (`data/client/TelegramMCPClient.kt`):
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram MCP —Å–µ—Ä–≤–µ—Ä—É
   - –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª

**–í–∞–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Koog –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MCP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç –≤ Markdown

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 7: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –∏ API endpoints

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ API endpoints.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ –≤ `ReviewsAnalyzerAgent.kt`:
   ```kotlin
   suspend fun analyzeWeek(
       fromDate: String? = null,
       toDate: String? = null
   ): AnalysisResponse {
       // 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∞—Ç—ã –Ω–µ–¥–µ–ª–∏
       val (weekStart, weekEnd) = calculateWeekDates(fromDate, toDate)
       
       // 2. –°–æ–±—Ä–∞—Ç—å –æ—Ç–∑—ã–≤—ã —á–µ—Ä–µ–∑ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
       val reviews = fetchReviews(weekStart, weekEnd)
       
       // 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î —á–µ—Ä–µ–∑ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
       saveReviews(reviews, weekStart)
       
       // 4. –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ LLM (Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
       val analyses = classifyReviews(reviews)
       
       // 5. –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–µ–¥–µ–ª–∏
       val currentWeekStats = WeekStats.fromAnalyses(weekStart, reviews, analyses)
       
       // 6. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é –Ω–µ–¥–µ–ª—é —á–µ—Ä–µ–∑ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
       val previousWeekStats = getPreviousWeekAnalysis(weekStart)
       
       // 7. –°—Ä–∞–≤–Ω–∏—Ç—å –Ω–µ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ LLM (Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
       val comparison = if (previousWeekStats != null) {
           compareWeeks(currentWeekStats, previousWeekStats)
       } else null
       
       // 8. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç —á–µ—Ä–µ–∑ LLM (Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
       val report = if (comparison != null) {
           generateReport(comparison)
       } else null
       
       // 9. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram —á–µ—Ä–µ–∑ MCP (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
       if (report != null && config.telegram?.chatId != null) {
           sendReportToTelegram(report, config.telegram.chatId)
       }
       
       // 10. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
       saveWeekAnalysis(weekStart, currentWeekStats)
       
       return AnalysisResponse(
           currentWeek = currentWeekStats,
           comparison = comparison,
           report = report
       )
   }
   ```

2. –°–æ–∑–¥–∞—Ç—å DTO (`presentation/dto/ReviewsDtos.kt`):
   ```kotlin
   @Serializable
   data class AnalyzeReviewsRequest(
       val fromDate: String? = null,
       val toDate: String? = null
   )
   
   @Serializable
   data class AnalysisResponse(
       val currentWeek: WeekStats,
       val comparison: WeekComparison?,
       val report: String?
   )
   ```

3. –°–æ–∑–¥–∞—Ç—å Controller (`presentation/controller/ReviewsController.kt`):
   ```kotlin
   class ReviewsController(
       private val agent: ReviewsAnalyzerAgent
   ) {
       fun configureRoutes(routing: Routing) {
           routing.apply {
               post("/api/reviews/analyze") {
                   val request = call.receive<AnalyzeReviewsRequest>()
                   val response = agent.analyzeWeek(request.fromDate, request.toDate)
                   call.respond(response)
               }
               
               get("/api/reviews/week/{weekStart}") {
                   val weekStart = call.parameters["weekStart"] ?: return@get
                   val stats = agent.getWeekAnalysis(weekStart)
                   call.respond(stats ?: HttpStatusCode.NotFound)
               }
           }
       }
   }
   ```

4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `Main.kt`:
   - –°–æ–∑–¥–∞—Ç—å `ReviewsAnalyzerAgent`
   - –°–æ–∑–¥–∞—Ç—å `ReviewsController`
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã

**–í–∞–∂–Ω–æ:**
- –í—Å—è –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 8: UI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–æ–º –æ—Ç–∑—ã–≤–æ–≤.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É (`client/reviews-analysis.html`):
   - –§–æ—Ä–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞:
     - –ü–æ–ª–µ "–ù–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏" (–¥–∞—Ç–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - –ü–æ–ª–µ "–ö–æ–Ω–µ—Ü –Ω–µ–¥–µ–ª–∏" (–¥–∞—Ç–∞, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
     - –ö–Ω–æ–ø–∫–∞ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
   - –û–±–ª–∞—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–∏ (–∫–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏)
     - –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∞—è –Ω–µ–¥–µ–ª—è)
     - –°–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π
     - –°–ø–∏—Å–æ–∫ —É—Ö—É–¥—à–µ–Ω–∏–π
     - –¢–µ–∫—Å—Ç –æ—Ç—á—ë—Ç–∞ (Markdown)
   - –ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤:
     - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –Ω–µ–¥–µ–ª—å
     - –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏–∑–∞ –ø–æ –∫–ª–∏–∫—É

2. –°–æ–∑–¥–∞—Ç—å JavaScript (`client/reviews-analysis.js`):
   ```javascript
   async function startAnalysis() {
       const fromDate = document.getElementById('fromDate').value;
       const toDate = document.getElementById('toDate').value;
       
       showLoading();
       
       try {
           const response = await fetch('/api/reviews/analyze', {
               method: 'POST',
               headers: { 'Content-Type': 'application/json' },
               body: JSON.stringify({ fromDate, toDate })
           });
           
           const data = await response.json();
           displayResults(data);
       } catch (error) {
           showError(error);
       } finally {
           hideLoading();
       }
   }
   
   function displayResults(data) {
       displayStats(data.currentWeek);
       if (data.comparison) {
           displayComparison(data.comparison);
       }
       if (data.report) {
           displayReport(data.report);
       }
   }
   ```

3. –û–±–Ω–æ–≤–∏—Ç—å `index.html`:
   - –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤
   - –ë–∞–∑–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

4. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ (CSS):
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –º–µ—Ç—Ä–∏–∫
   - –ì—Ä–∞—Ñ–∏–∫–∏ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chart.js)
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Markdown –æ—Ç—á—ë—Ç–∞

**–í–∞–∂–Ω–æ:**
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –£–¥–æ–±–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 9: –£–ª—É—á—à–µ–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ó–∞–¥–∞—á–∞:** —É–ª—É—á—à–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –£–ª—É—á—à–µ–Ω–∏—è:
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API (retry, fallback)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ LLM (–ø–∞—Ä—Å–∏–Ω–≥ JSON)
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç LLM

2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
   - –û–±–Ω–æ–≤–∏—Ç—å `README.md`:
     - –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤
     - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
     - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
     - –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Koog
   - –û–±–Ω–æ–≤–∏—Ç—å `THEORY.md`:
     - –¢–µ–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤
     - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Koog
     - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP
   - –û–±–Ω–æ–≤–∏—Ç—å `CHAT_PROMPT.txt`:
     - –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–º–ø—Ç–∞
   - –°–æ–∑–¥–∞—Ç—å `TASK_DESCRIPTION.md`:
     - –û–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
     - –¶–µ–ª–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
     - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (Koog, MCP, LLM)
   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `README.md`:
     - –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —É—Ä–æ–∫ 24

3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
   - –ü—Ä–∏–º–µ—Ä `config/server.yaml.example`
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:
     - Company Mobile Stores API
     - Koog (API –∫–ª—é—á)
     - Telegram MCP
     - SQLite –ë–î

4. –ü—Ä–∏–º–µ—Ä—ã:
   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
   - –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –æ—Ç—á—ë—Ç–æ–≤

**–í–∞–∂–Ω–æ:**
- –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —á–µ—Ä–µ–∑ Koog
- –£–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –Ω—É–ª—è
- –û–ø–∏—Å–∞—Ç—å –≤—Å–µ Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –ø–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## üß† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Koog

**Koog —Ñ—Ä–µ–π–º–≤–æ—Ä–∫:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ `@Tool` –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ LLM –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ `koog.ask()`
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Kotlin

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Koog –∞–≥–µ–Ω—Ç–∞:**
```kotlin
class ReviewsAnalyzerAgent(
    private val koog: Koog,
    private val apiClient: ReviewsApiClient,
    private val repository: ReviewsRepository
) {
    
    @Tool("–û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞")
    fun toolName(@Param("param") param: String): ReturnType {
        // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
    }
    
    fun analyze() {
        // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM
        val result = koog.ask("–ü—Ä–æ–º–ø—Ç –¥–ª—è LLM")
    }
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Company Mobile Stores API

**API –∫–ª–∏–µ–Ω—Ç:**
- HTTP –∫–ª–∏–µ–Ω—Ç (Ktor HttpClient)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (type: "error")
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π: `id`, `text`, `rating`

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:**
```kotlin
POST https://stores.mobile.company-team.ru/api/v1/stores/{store}/apps/{package_id}/reviews
{
  "filter": {
    "fromDate": "2024-12-15T00:00:00Z",
    "toDate": "2024-12-22T23:59:59Z"
  },
  "pageSize": 100
}
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```yaml
reviews:
  api:
    baseUrl: "https://stores.mobile.company-team.ru"
    store: "googleplay"  # appstore, googleplay, appgallery, rustore
    packageId: "com.example.app"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM —á–µ—Ä–µ–∑ Koog

**–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤:**
```kotlin
val analysis = koog.ask("""
    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ—Ç–∑—ã–≤—ã –∏ –≤–µ—Ä–Ω–∏ JSON:
    {
      "category": "positive|negative|neutral",
      "topics": ["—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã", "UI/UX", ...],
      "criticality": "high|medium|low"
    }
    
    –û—Ç–∑—ã–≤—ã: ${reviews.joinToString("\n")}
""")
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å:**
```kotlin
val comparison = koog.ask("""
    –°—Ä–∞–≤–Ω–∏ –Ω–µ–¥–µ–ª–∏ –∏ –≤–µ—Ä–Ω–∏ JSON:
    {
      "improvements": [
        {"metric": "...", "change": "+15%", "reason": "..."}
      ],
      "degradations": [
        {"metric": "...", "change": "-10%", "reason": "..."}
      ],
      "newIssues": ["..."],
      "resolvedIssues": ["..."]
    }
    
    –¢–µ–∫—É—â–∞—è: ${currentWeekStats}
    –ü—Ä–µ–¥—ã–¥—É—â–∞—è: ${previousWeekStats}
""")
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞:**
```kotlin
val report = koog.ask("""
    –°–æ–∑–¥–∞–π Markdown –æ—Ç—á—ë—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
    ${comparison.toJson()}
    
    –í–∫–ª—é—á–∏:
    - –û–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    - –ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å
    - –ß—Ç–æ —É—Ö—É–¥—à–∏–ª–æ—Å—å
    - –ù–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
    - –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
    - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
""")
```

### MCP –¥–ª—è Telegram

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Telegram MCP:**
- –ï—Å–ª–∏ –µ—Å—Ç—å `telegram-mcp-server` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: `send_message(chatId, text)`

**–ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Telegram MCP:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: `telegram.botToken`, `telegram.chatId`

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î (SQLite)

**–°—Ö–µ–º–∞:**
- –¢–∞–±–ª–∏—Ü–∞ `reviews` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
- –¢–∞–±–ª–∏—Ü–∞ `week_analyses` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–æ–≤ –Ω–µ–¥–µ–ª—å
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∞—Ç–∞–º

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Exposed –∏–ª–∏ JDBC –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- Repository –ø–∞—Ç—Ç–µ—Ä–Ω
- –ú–∏–≥—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìä –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤)

### –°—Ü–µ–Ω–∞—Ä–∏–π

1. **–ó–∞–ø—Ä–æ—Å –Ω–∞ –∞–Ω–∞–ª–∏–∑:**
   ```
   POST /api/reviews/analyze
   {
     "fromDate": "2024-12-15T00:00:00Z",
     "toDate": "2024-12-22T23:59:59Z"
   }
   ```

2. **–ü—Ä–æ—Ü–µ—Å—Å:**
   - Koog @Tool: —Å–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ —Å API (`fetchReviews`)
   - Koog @Tool: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (`saveReviews`)
   - LLM —á–µ—Ä–µ–∑ Koog: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ (`classifyReviews`)
   - Koog @Tool: –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–∏ (`getPreviousWeekAnalysis`)
   - LLM —á–µ—Ä–µ–∑ Koog: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å (`compareWeeks`)
   - LLM —á–µ—Ä–µ–∑ Koog: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ (`generateReport`)
   - MCP: –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram (`sendReportToTelegram`)

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```json
   {
     "currentWeek": {
       "weekStart": "2024-12-15",
       "totalReviews": 127,
       "positiveCount": 68,
       "negativeCount": 42,
       "averageRating": 4.2
     },
     "comparison": {
       "improvements": [
         {
           "metric": "–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã",
           "change": "+15%",
           "reason": "–ë–æ–ª—å—à–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ –æ —Å–∫–æ—Ä–æ—Å—Ç–∏"
         }
       ],
       "degradations": [
         {
           "metric": "–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å",
           "change": "+25% –∂–∞–ª–æ–±",
           "reason": "–£–≤–µ–ª–∏—á–∏–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∞–ª–æ–± –Ω–∞ —Å–±–æ–∏"
         }
       ],
       "newIssues": ["–ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π"],
       "resolvedIssues": ["–ü—Ä–æ–±–ª–µ–º—ã —Å –æ–ø–ª–∞—Ç–æ–π"]
     },
     "report": "# –ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤: –ù–µ–¥–µ–ª—è 15-22 –¥–µ–∫–∞–±—Ä—è 2024\n\n..."
   }
   ```

---

## üéì –¶–µ–ª–∏ —É—Ä–æ–∫–∞

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –æ—Ç–∑—ã–≤–æ–≤ —Å –Ω–µ–¥–µ–ª—å–Ω—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Koog —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–∞–≥–µ–Ω—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å Company Mobile Stores API
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM —á–µ—Ä–µ–∑ Koog –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MCP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á—ë—Ç–æ–≤ –≤ Telegram
- –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
- –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å UI
- –ü–æ–ª—É—á–∏—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ Koog
- –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–∞–π–ø–ª–∞–π–Ω (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ –∫–ª—é—á–µ–π API) + –í–∏–¥–µ–æ + –ö–æ–¥

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `PROMPT.md` ‚Äî —Ç–µ–∫—É—â–µ–µ –¢–ó (—ç—Ç–æ—Ç —Ñ–∞–π–ª).
- `TASK_DESCRIPTION.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.
- `THEORY.md` ‚Äî —Ç–µ–æ—Ä–∏—è –ø—Ä–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.
- `README.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —É—Ä–æ–∫–∞.
- `CHAT_PROMPT.txt` ‚Äî –∫—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è –¢–ó –¥–ª—è –∞–≥–µ–Ω—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

1. **–í—ã–±—Ä–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
2. **–ü–∞–π–ø–ª–∞–π–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∫–ª—é—á–µ–π)
3. **–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–±–æ—á–∏–º** (–≤ —Ä–∞–º–∫–∞—Ö –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –±–µ–∑ –∫–ª—é—á–µ–π)
4. **–í–∏–¥–µ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è** –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –¥–æ–ª–∂–Ω–∞ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É –∏ –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

