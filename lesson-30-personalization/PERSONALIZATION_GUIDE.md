# Руководство по персонализации

Подробное описание параметров персонализации и рекомендации по их настройке.

## Обзор

Персонализация позволяет адаптировать агента под ваши предпочтения, стиль работы и контекст. Агент будет знать ваше имя, предпочтения в общении, области интересов и использовать эту информацию для более точных и релевантных ответов.

## Структура профиля

### Базовые настройки

```yaml
user:
  id: "default"           # Идентификатор пользователя
  name: "Иван"            # Ваше имя
```

### Предпочтения (Preferences)

**language** — язык общения
- `ru` — русский (по умолчанию)
- `en` — английский

**responseFormat** — формат ответа
- `brief` — краткие ответы (512 токенов)
  - ✅ Хорошо для: быстрых вопросов, простых задач
  - ❌ Плохо для: сложных объяснений, детального анализа
  
- `detailed` — подробные ответы (2048 токенов)
  - ✅ Хорошо для: обучения, глубокого понимания
  - ❌ Плохо для: быстрых справок
  
- `structured` — структурированные ответы (списки, таблицы)
  - ✅ Хорошо для: сравнений, списков, данных
  - ❌ Плохо для: повествовательных ответов

**timezone** — часовой пояс
- Формат: `Europe/Moscow`, `America/New_York`, `Asia/Tokyo`
- Используется для форматирования времени в ответах

**dateFormat** — формат даты
- `dd.MM.yyyy` — 01.12.2024
- `MM/dd/yyyy` — 12/01/2024
- `yyyy-MM-dd` — 2024-12-01

### Стиль работы (WorkStyle)

**preferredWorkingHours** — предпочтительные рабочие часы
- Формат: `09:00-18:00`
- Используется для контекста в ответах

**focusAreas** — области интересов
- Список областей: `["backend", "frontend", "devops", "data-science"]`
- Агент будет учитывать эти области при ответах

**tools** — используемые инструменты
- Список инструментов: `["git", "docker", "kubernetes", "terraform"]`
- Агент будет предлагать решения с использованием этих инструментов

**projects** — проекты пользователя
- Список проектов: `["ai-challenge", "mobile-app", "web-service"]`
- Агент будет учитывать контекст проектов

### Стиль общения (CommunicationStyle)

**tone** — тон общения
- `professional` — деловой стиль
  - ✅ Хорошо для: работы, бизнеса, формальных ситуаций
  - Формальные обращения, структурированные ответы
  
- `casual` — неформальный стиль
  - ✅ Хорошо для: неформального общения, обучения
  - Более свободный стиль, меньше формальностей
  
- `friendly` — дружелюбный стиль
  - ✅ Хорошо для: личных проектов, творческих задач
  - Дружелюбный тон, поддержка

**detailLevel** — уровень детализации
- `low` — минимум деталей
  - ✅ Хорошо для: опытных пользователей, быстрых ответов
  - Краткие ответы, только ключевые моменты
  
- `medium` — средний уровень (по умолчанию)
  - ✅ Хорошо для: большинства случаев
  - Баланс между краткостью и деталями
  
- `high` — максимум деталей
  - ✅ Хорошо для: обучения, глубокого понимания
  - Подробные объяснения, примеры, контекст

**useExamples** — использовать примеры
- `true` — включать примеры в ответы
- `false` — без примеров

**useEmojis** — использовать эмодзи
- `true` — использовать эмодзи для визуализации
- `false` — без эмодзи (по умолчанию)

### Контекст (Context)

**currentProject** — текущий проект
- Название проекта, над которым вы работаете
- Агент будет учитывать контекст проекта

**role** — роль пользователя
- `developer` — разработчик
- `manager` — менеджер
- `analyst` — аналитик
- `designer` — дизайнер
- Или любая другая роль

**team** — команда
- Название команды или отдела
- Используется для контекста

**goals** — цели пользователя
- Список целей: `["Изучить LLM", "Автоматизировать задачи"]`
- Агент будет учитывать цели при ответах

## Примеры конфигураций

### Разработчик Backend

```yaml
user:
  name: "Алексей"
  preferences:
    language: "ru"
    responseFormat: "structured"
    timezone: "Europe/Moscow"
  workStyle:
    preferredWorkingHours: "10:00-19:00"
    focusAreas:
      - "backend"
      - "kotlin"
      - "microservices"
    tools:
      - "git"
      - "docker"
      - "kubernetes"
      - "postgresql"
    projects:
      - "api-service"
      - "payment-system"
  communicationStyle:
    tone: "professional"
    detailLevel: "high"
    useExamples: true
    useEmojis: false
  context:
    currentProject: "api-service"
    role: "developer"
    team: "backend"
    goals:
      - "Улучшить производительность API"
      - "Внедрить микросервисы"
```

### Менеджер проектов

```yaml
user:
  name: "Мария"
  preferences:
    language: "ru"
    responseFormat: "brief"
    timezone: "Europe/Moscow"
  workStyle:
    preferredWorkingHours: "09:00-18:00"
    focusAreas:
      - "project-management"
      - "analytics"
      - "team-leadership"
    tools:
      - "jira"
      - "confluence"
      - "slack"
    projects:
      - "mobile-app"
      - "web-platform"
  communicationStyle:
    tone: "professional"
    detailLevel: "medium"
    useExamples: false
    useEmojis: false
  context:
    currentProject: "mobile-app"
    role: "manager"
    team: "product"
    goals:
      - "Улучшить процессы разработки"
      - "Повысить эффективность команды"
```

### Аналитик данных

```yaml
user:
  name: "Дмитрий"
  preferences:
    language: "ru"
    responseFormat: "detailed"
    timezone: "Europe/Moscow"
  workStyle:
    preferredWorkingHours: "09:00-18:00"
    focusAreas:
      - "data-analysis"
      - "statistics"
      - "machine-learning"
    tools:
      - "python"
      - "pandas"
      - "jupyter"
      - "sql"
    projects:
      - "analytics-dashboard"
      - "data-pipeline"
  communicationStyle:
    tone: "professional"
    detailLevel: "high"
    useExamples: true
    useEmojis: false
  context:
    currentProject: "analytics-dashboard"
    role: "analyst"
    team: "data"
    goals:
      - "Найти паттерны в данных"
      - "Улучшить точность прогнозов"
```

## Влияние на ответы

### Формат ответа

**brief:**
```
Вопрос: "Что такое рефакторинг?"
Ответ: "Рефакторинг — улучшение структуры кода без изменения функциональности."
```

**detailed:**
```
Вопрос: "Что такое рефакторинг?"
Ответ: "Рефакторинг — это процесс улучшения структуры существующего кода без изменения его внешнего поведения. Основные принципы: извлечение методов, переименование переменных, упрощение условий. Цель — повысить читаемость и поддерживаемость кода."
```

**structured:**
```
Вопрос: "Что такое рефакторинг?"
Ответ:
- Определение: улучшение структуры кода без изменения функциональности
- Принципы:
  * Извлечение методов
  * Переименование переменных
  * Упрощение условий
- Цель: повысить читаемость и поддерживаемость
```

### Тон общения

**professional:**
```
"Согласно анализу данных, рекомендуется использовать подход X для решения задачи Y."
```

**casual:**
```
"Можно попробовать подход X, он должен подойти для задачи Y."
```

**friendly:**
```
"Привет! Для задачи Y отлично подойдёт подход X. Давай попробуем!"
```

### Уровень детализации

**low:**
```
"Используй Docker для контейнеризации."
```

**medium:**
```
"Используй Docker для контейнеризации. Создай Dockerfile, собери образ командой `docker build`."
```

**high:**
```
"Используй Docker для контейнеризации. Создай Dockerfile в корне проекта со следующим содержимым:
FROM openjdk:17
COPY app.jar /app.jar
CMD java -jar /app.jar

Затем собери образ: `docker build -t myapp .`
И запусти контейнер: `docker run -p 8080:8080 myapp`"
```

## Рекомендации

### Для начинающих

```yaml
communicationStyle:
  tone: "friendly"
  detailLevel: "high"
  useExamples: true
preferences:
  responseFormat: "detailed"
```

### Для опытных разработчиков

```yaml
communicationStyle:
  tone: "professional"
  detailLevel: "medium"
  useExamples: false
preferences:
  responseFormat: "brief"
```

### Для менеджеров

```yaml
communicationStyle:
  tone: "professional"
  detailLevel: "low"
  useExamples: false
preferences:
  responseFormat: "brief"
context:
  role: "manager"
  goals:
    - "Улучшить процессы"
    - "Повысить эффективность"
```

## Обновление профиля

### Через конфиг

1. Откройте `config/user-profile.yaml`
2. Измените нужные параметры
3. Перезапустите сервер

### Через UI

1. Откройте страницу "Профиль"
2. Измените настройки
3. Нажмите "Сохранить"
4. Изменения применяются сразу

## Часто задаваемые вопросы

### Можно ли иметь несколько профилей?

Да, можно создать несколько конфигов с разными `id` и переключаться между ними.

### Как профиль влияет на ответы?

Профиль добавляется в промпт перед отправкой в LLM, что позволяет агенту адаптировать ответы под ваши предпочтения.

### Можно ли автоматически обновлять профиль?

Да, можно использовать историю взаимодействий для автоматической настройки предпочтений (опционально).

### Где хранится профиль?

По умолчанию в `config/user-profile.yaml`. Можно добавить поддержку БД для динамических изменений.

---

**Примечание:** Персонализация работает лучше, когда профиль настроен под ваши реальные предпочтения и контекст работы.

