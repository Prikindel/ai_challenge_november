# –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: üî• –î–µ–Ω—å 21. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–≤—å—é –∫–æ–¥–∞

–¢—ã ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–æ–∑–¥–∞—é—â–∏–π —É—Ä–æ–∫ ¬´üî• –î–µ–Ω—å 21. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–≤—å—é –∫–æ–¥–∞¬ª –≤ –º–æ–¥—É–ª–µ `lesson-21-code-review`. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–µ–∫ **Kotlin + Ktor + Clean Architecture + SQLite** —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –Ω–∞ **vanilla JS**. –í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –º—ã **–∫–æ–ø–∏—Ä—É–µ–º –≤–µ—Å—å –∫–æ–¥ –∏–∑ —É—Ä–æ–∫–∞ 20** –∏ —Ä–∞–∑–≤–∏–≤–∞–µ–º –µ–≥–æ ‚Äî –º–µ–Ω—è–µ–º –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `lesson-20-dev-assistant` –Ω–∞ `lesson-21-code-review`, –Ω–µ –ª–æ–º–∞—è —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

## üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω (CI) –∏–ª–∏ –∫–Ω–æ–ø–∫—É –≤ UI, –≤ –∫–æ—Ç–æ—Ä–æ–º –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π PR:

- **–° –ø–æ–º–æ—â—å—é RAG –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –∫–æ–¥ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
- **–ß–µ—Ä–µ–∑ MCP –ø–æ–ª—É—á–∞–µ—Ç diff –∏ —Ñ–∞–π–ª—ã –∏–∑ PR**
- **–í—ã–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç —Ä–µ–≤—å—é —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏** (–Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏, —Å–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é)

### –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

```
PR –∏–ª–∏ diff ‚Üí Git MCP (get_diff, get_changed_files) ‚Üí RAG-–ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚Üí LLM –∞–Ω–∞–ª–∏–∑ ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–≤—å—é (–ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –æ—Ü–µ–Ω–∫–∞)
```

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:
- –ü–æ–ª—É—á–∞—Ç—å diff –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏ —á–µ—Ä–µ–∑ MCP
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥ –ø—Ä–æ—Ç–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ RAG
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–≤—å—é —á–µ—Ä–µ–∑ LLM
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —É–¥–æ–±–Ω–æ–º UI
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≤—å—é –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

---

## üìã –ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã)

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**
- –ö–∞–∂–¥—ã–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π —à–∞–≥ = –æ—Ç–¥–µ–ª—å–Ω—ã–π git-–∫–æ–º–º–∏—Ç.
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ **–°–¢–û–ü**, –ø–æ–∫–∞–∂–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –¥–æ–∂–¥–∏—Å—å ¬´–æ–∫, –ø—Ä–æ–¥–æ–ª–∂–∞–π¬ª.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –¥–µ–ª–∞–µ—Ç merge/commit –¥–∞–ª–µ–µ.

### –ö–æ–º–º–∏—Ç 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞ 20

**–ó–∞–¥–∞—á–∞:** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `lesson-20-dev-assistant/` –≤ `lesson-21-code-review/`.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã (server, client, config, README, THEORY, PROMPT, CHAT_PROMPT, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –¥–∞–Ω–Ω—ã–µ, git-mcp-server, rag-mcp-server, mcp-common).
2. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è:
   - –ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞, Gradle settings, package references, –∑–∞–≥–æ–ª–æ–≤–∫–∏, README
   - –í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `lesson-20-dev-assistant` ‚Üí `lesson-21-code-review`
   - ¬´–î–µ–Ω—å 20¬ª ‚Üí ¬´–î–µ–Ω—å 21¬ª
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –ø–æ–∫–∞–∑–∞—Ç—å diff –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

### –ö–æ–º–º–∏—Ç 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ MCP git-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PR

**–ó–∞–¥–∞—á–∞:** –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è diff –∏ —Å–ø–∏—Å–∫–∞ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **GetDiffTool** –∏ **GetDiffHandler**:
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `get_diff(base, head)`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `git diff base..head`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç unified diff —Ñ–æ—Ä–º–∞—Ç
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ (–≤–µ—Ç–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –Ω–µ –≤ git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

2. **GetChangedFilesTool** –∏ **GetChangedFilesHandler**:
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `get_changed_files(base, head)`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `git diff --name-status base..head`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (A/M/D/R/C)
   - –ü–∞—Ä—Å–∏—Ç —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º

3. **GetFileContentTool**:
   - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `get_file_content(filePath)`
   - –ê–ª–∏–∞—Å –¥–ª—è `read_file` —Å —è–≤–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–ª—è —Ä–µ–≤—å—é
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `ReadFileHandler`

4. –û–±–Ω–æ–≤–∏—Ç—å **ToolRegistry**:
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç—Ä–∏ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏

**–í–∞–∂–Ω–æ:**
- –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É (Tool + Handler)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (git –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 3: –°–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ (CodeReviewService)

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–≤—å—é.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** (`domain/model/CodeReview.kt`):
   ```kotlin
   enum class ReviewIssueType {
       BUG, SECURITY, PERFORMANCE, STYLE, LOGIC, DOCUMENTATION
   }
   
   data class ReviewIssue(
       val type: ReviewIssueType,
       val severity: String,  // "critical", "high", "medium", "low"
       val file: String,
       val line: Int?,
       val message: String,
       val suggestion: String?
   )
   
   data class ReviewSuggestion(
       val file: String,
       val line: Int?,
       val message: String,
       val priority: String  // "high", "medium", "low"
   )
   
   data class CodeReview(
       val reviewId: String,
       val baseBranch: String,
       val headBranch: String,
       val changedFiles: List<String>,
       val issues: List<ReviewIssue>,
       val suggestions: List<ReviewSuggestion>,
       val summary: String,
       val overallScore: String?,  // "approve", "request_changes", "comment"
       val timestamp: Long
   )
   ```

2. **CodeReviewService** (`domain/service/CodeReviewService.kt`):
   - `reviewPR(base, head)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä–µ–≤—å—é PR
   - `reviewDiff(diff, changedFiles)` ‚Äî —Ä–µ–≤—å—é –ø–æ diff —Ñ–∞–π–ª—É
   - `analyzeDiff(diff, changedFiles)` ‚Äî –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ diff (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
   - `checkAgainstDocs(diff, changedFiles)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ RAG
   - `generateReview(...)` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–≤—å—é —á–µ—Ä–µ–∑ LLM
   - `parseLLMResponse(...)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞

3. **–†–∞—Å—à–∏—Ä–∏—Ç—å GitMCPService**:
   - `getDiff(base, head)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ diff
   - `getChangedFiles(base, head)` ‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
   - `getFileContent(filePath)` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. –ü–æ–ª—É—á–∞–µ—Ç diff —á–µ—Ä–µ–∑ Git MCP
2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç diff (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤)
3. –ò—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —á–µ—Ä–µ–∑ RAG
4. –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç —Å diff, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
5. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–≤—å—é —á–µ—Ä–µ–∑ LLM
6. –ü–∞—Ä—Å–∏—Ç JSON –æ—Ç–≤–µ—Ç –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `CodeReview`

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 4: –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–≤—å—é –∫–æ–¥–∞

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è —Ä–µ–≤—å—é.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **CodeReviewPromptBuilder** (`domain/service/CodeReviewPromptBuilder.kt`):
   - `buildReviewPrompt(...)` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–≤—å—é
   - `buildFileReviewPrompt(...)` ‚Äî –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–≤—å—é —Ñ–∞–π–ª–∞
   - `buildQuickReviewPrompt(...)` ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö PR
   - `buildSystemPrompt(ragContext)` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å —É—á—ë—Ç–æ–º RAG
   - `buildUserPrompt(...)` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç —Å diff –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞:**
   - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç: —Ä–æ–ª—å code reviewer, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ñ–æ—Ä–º–∞—Ç JSON
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç: —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç, diff

3. **–û–±–Ω–æ–≤–∏—Ç—å CodeReviewService**:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `CodeReviewPromptBuilder` –≤–º–µ—Å—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–µ—Ç–æ–¥–æ–≤
   - –£–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã `buildSystemPrompt()` –∏ `buildUserPrompt()` –∏–∑ —Å–µ—Ä–≤–∏—Å–∞

**–í–∞–∂–Ω–æ:**
- –¢—Ä–µ–±–æ–≤–∞—Ç—å JSON —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä diff (maxDiffLength)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–º–ø—Ç–µ

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 5: API –¥–ª—è —Ä–µ–≤—å—é –∫–æ–¥–∞

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å HTTP API endpoints –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–µ–≤—å—é –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **DTO** (`presentation/dto/CodeReviewDtos.kt`):
   - `ReviewPRRequest` ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≤—å—é PR
   - `ReviewPRResponse` ‚Äî –æ—Ç–≤–µ—Ç —Å ID —Ä–µ–≤—å—é
   - `ReviewDiffRequest` ‚Äî –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–µ–≤—å—é –ø–æ diff
   - `CodeReviewDto` ‚Äî –ø–æ–ª–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–≤—å—é
   - `ReviewIssueDto`, `ReviewSuggestionDto` ‚Äî DTO –¥–ª—è –ø—Ä–æ–±–ª–µ–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

2. **CodeReviewController** (`presentation/controller/CodeReviewController.kt`):
   - `POST /api/review/pr` ‚Äî –∑–∞–ø—É—Å–∫ —Ä–µ–≤—å—é PR (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
   - `GET /api/review/pr/{reviewId}` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   - `POST /api/review/diff` ‚Äî —Ä–µ–≤—å—é –ø–æ diff —Ñ–∞–π–ª—É
   - `GET /api/review/pr` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ–≤—å—é (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

3. **–•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
   - In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`ConcurrentHashMap`)
   - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ë–î

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Main.kt**:
   - –°–æ–∑–¥–∞—Ç—å `CodeReviewService` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å `CodeReviewController`
   - –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã –≤ routing

**–í–∞–∂–Ω–æ:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (202 Accepted —Å reviewId)
- –û–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ GET endpoint
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 6: UI –¥–ª—è —Ä–µ–≤—å—é –∫–æ–¥–∞ (–∫–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞)

**–ó–∞–¥–∞—á–∞:** —Å–æ–∑–¥–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–µ–≤—å—é –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **code-review.html**:
   - –§–æ—Ä–º–∞ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ç–æ–∫ (base –∏ head)
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–≤—å—é"
   - –û–±–ª–∞—Å—Ç—å —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–≤—å—é (pending/error/completed)
   - –û–±–ª–∞—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —Ä–µ–∑—é–º–µ, —Ñ–∞–π–ª–∞–º–∏, –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –≤–∫–ª–∞–¥–∫–æ–π "–†–µ–≤—å—é –∫–æ–¥–∞"

2. **code-review.js**:
   - `handleReviewSubmit()` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
   - `startPolling(reviewId)` ‚Äî –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
   - `pollReviewStatus(reviewId)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ API
   - `displayResults(review)` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - `displaySummary()`, `displayIssues()`, `displaySuggestions()` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

3. **–°—Ç–∏–ª–∏:**
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç–∏ (critical/high/medium/low)
   - –¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º —Å —Ü–≤–µ—Ç–æ–≤—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
   - –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ (approve/request_changes/comment)
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫

**–í–∞–∂–Ω–æ:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 7: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ó–∞–¥–∞—á–∞:** –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`config/Config.kt`):
   ```kotlin
   data class CodeFilesConfig(
       val enabled: Boolean = false,
       val paths: List<String> = emptyList(),
       val extensions: List<String> = listOf(".kt", ".java", ".js", ".ts", ".py"),
       val excludePatterns: List<String> = listOf("**/build/**", "**/node_modules/**")
   )
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å DocumentIndexer** (`rag-mcp-server/service/DocumentIndexer.kt`):
   - `indexCodeFiles(paths, extensions, excludePatterns)` ‚Äî –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
   - `indexCodeFilesList(filePaths)` ‚Äî –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
   - `findCodeFiles(directory, extensions, excludePatterns)` ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤

3. **–û–±–Ω–æ–≤–∏—Ç—å server.yaml**:
   ```yaml
   indexing:
     codeFiles:
       enabled: false
       paths: []
       extensions: [".kt", ".java", ".js", ".ts", ".py"]
       excludePatterns: ["**/build/**", "**/node_modules/**"]
   ```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–∏ —Ä–µ–≤—å—é –º–æ–∂–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è RAG
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 8: –£–ª—É—á—à–µ–Ω–∏–µ UI –∏–ª–∏ GitHub Action

**–ó–∞–¥–∞—á–∞:** —É–ª—É—á—à–∏—Ç—å UI –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å GitHub Action –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–≤—å—é.

**–í–∞—Ä–∏–∞–Ω—Ç A: –£–ª—É—á—à–µ–Ω–∏–µ UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **–î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É diff —Ñ–∞–π–ª–∞:**
   - –ü–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ `.diff`, `.patch`, `.txt` —Ñ–∞–π–ª–æ–≤
   - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ diff –Ω–∞–ø—Ä—è–º—É—é
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑ diff

2. **–î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Ä–µ–≤—å—é:**
   - JSON ‚Äî –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
   - Markdown ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç
   - –¢–µ–∫—Å—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç

3. **–£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç B: GitHub Action (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

1. –°–æ–∑–¥–∞—Ç—å `.github/workflows/code-review.yml`
2. –ó–∞–ø—É—Å–∫ –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PR
3. –°–±–æ—Ä diff –∏ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
4. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ PR —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UI –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–≤—å—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –Ω–∞—á–∞—Ç—å —Å —É–ª—É—á—à–µ–Ω–∏—è UI (–≤–∞—Ä–∏–∞–Ω—Ç A)

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.

---

### –ö–æ–º–º–∏—Ç 9: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –≤—ã–≤–æ–¥—ã

**–ó–∞–¥–∞—á–∞:** –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥—ã.

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û–±–Ω–æ–≤–∏—Ç—å `README.md`:
   - –û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞ 21
   - –ü–∞–π–ø–ª–∞–π–Ω —Ä–µ–≤—å—é –∫–æ–¥–∞
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
   - –ü—Ä–∏–º–µ—Ä—ã API endpoints

2. –û–±–Ω–æ–≤–∏—Ç—å `THEORY.md`:
   - –¢–µ–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–≤—å—é –∫–æ–¥–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAG –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –æ—Ç LLM
   - –¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º –∏ –∏—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ

3. –û–±–Ω–æ–≤–∏—Ç—å `PROMPT.md`:
   - –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Ä–æ–∫–∞ 21
   - –ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

4. –û–±–Ω–æ–≤–∏—Ç—å `CHAT_PROMPT.txt`:
   - –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–º–ø—Ç–∞

5. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `README.md`:
   - –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —É—Ä–æ–∫ 21

**–ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:** –ø–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## üß† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ diff —á–µ—Ä–µ–∑ MCP

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Git MCP:**
- `get_diff(base, head)` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ diff –º–µ–∂–¥—É –≤–µ—Ç–∫–∞–º–∏
- `get_changed_files(base, head)` ‚Äî —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `get_file_content(filePath)` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```kotlin
val diff = gitMCPService.getDiff("main", "feature-branch")
val changedFiles = gitMCPService.getChangedFiles("main", "feature-branch")
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAG –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ó–∞–ø—Ä–æ—Å –∫ RAG:**
```kotlin
val ragContext = ragMCPService.callTool("rag_search_project_docs", JsonObject {
    put("query", "—Å—Ç–∏–ª—å –∫–æ–¥–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, best practices")
    put("topK", 5)
})
```

**–ß—Ç–æ –∏—â–µ—Ç—Å—è:**
- –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- Best practices
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–≤—å—é —á–µ—Ä–µ–∑ LLM

**–ü—Ä–æ–º–ø—Ç:**
1. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç: —Ä–æ–ª—å code reviewer, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ñ–æ—Ä–º–∞—Ç JSON
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç: diff, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "summary": "–†–µ–∑—é–º–µ —Ä–µ–≤—å—é",
  "overallScore": "approve" | "request_changes" | "comment",
  "issues": [...],
  "suggestions": [...]
}
```

**–ü–∞—Ä—Å–∏–Ω–≥:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –º–æ–¥–µ–ª–∏ `CodeReview`

### –¢–∏–ø—ã –ø—Ä–æ–±–ª–µ–º

- **BUG** ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏
- **SECURITY** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **PERFORMANCE** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **STYLE** ‚Äî —Å—Ç–∏–ª—å –∫–æ–¥–∞
- **LOGIC** ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- **DOCUMENTATION** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–µ—Ä—å—ë–∑–Ω–æ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º

- **critical** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ (–∫—Ä–∞—Å–Ω—ã–π)
- **high** ‚Äî –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **medium** ‚Äî —Å—Ä–µ–¥–Ω–∏–π (–∂—ë–ª—Ç—ã–π)
- **low** ‚Äî –Ω–∏–∑–∫–∏–π (—Å–∏–Ω–∏–π)

---

## üìä –ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è

1. **–ó–∞–ø—É—Å–∫ —Ä–µ–≤—å—é:**
   ```
   POST /api/review/pr
   {
     "base": "main",
     "head": "feature-branch"
   }
   ‚Üí reviewId: "review-123"
   ```

2. **–û–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞:**
   ```
   GET /api/review/pr/review-123
   ‚Üí status: "pending" | "completed" | "error"
   ```

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–µ–≤—å—é:**
   ```
   {
     "reviewId": "review-123",
     "issues": [
       {
         "type": "BUG",
         "severity": "high",
         "file": "UserService.kt",
         "line": 42,
         "message": "–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤",
         "suggestion": "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-with-resources"
       }
     ],
     "suggestions": [...],
     "summary": "–ù–∞–π–¥–µ–Ω–æ 3 –ø—Ä–æ–±–ª–µ–º—ã...",
     "overallScore": "request_changes"
   }
   ```

---

## üéì –¶–µ–ª–∏ —É—Ä–æ–∫–∞

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–≤—å—é –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Git MCP –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è diff –∏ —Ñ–∞–π–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RAG –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ç–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–≤—å—é —á–µ—Ä–µ–∑ LLM
- –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–≤—å—é
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–µ–≤—å—é –∫–æ–¥–∞ (–í–∏–¥–µ–æ + –ö–æ–¥)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `PROMPT.md` ‚Äî —Ç–µ–∫—É—â–µ–µ –¢–ó (—ç—Ç–æ—Ç —Ñ–∞–π–ª).
- `THEORY.md` ‚Äî —Ç–µ–æ—Ä–∏—è –ø—Ä–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Ä–µ–≤—å—é –∫–æ–¥–∞.
- `README.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —É—Ä–æ–∫–∞.
- `CHAT_PROMPT.txt` ‚Äî –∫—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è –¢–ó –¥–ª—è –∞–≥–µ–Ω—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
