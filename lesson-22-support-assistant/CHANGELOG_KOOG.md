# Changelog: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Koog –≤ —É—Ä–æ–∫ 22

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–£—Ä–æ–∫ 22 –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Koog** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –æ—Ç JetBrains –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AI-–∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ Kotlin.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Koog tools

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `server/src/main/kotlin/com/prike/domain/koog/tools/BaseTool.kt`
  - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö Koog –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

- `server/src/main/kotlin/com/prike/domain/koog/tools/CRMTool.kt`
  - `GetUserTool` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  - `GetTicketTool` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–∫–µ—Ç–µ
  - `GetUserTicketsTool` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–∫–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `CreateTicketTool` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–∫–µ—Ç–∞
  - `AddTicketMessageTool` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç–∏–∫–µ—Ç

- `server/src/main/kotlin/com/prike/domain/koog/tools/RAGTool.kt`
  - `SearchSupportDocsTool` - –ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### 2. –ü–µ—Ä–µ–¥–µ–ª–∞–Ω SupportAgentKoog

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Koog tools –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CRM –∏ RAG
- –§–æ—Ä–º–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- LLM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ MCP —Å–µ—Ä–≤–∏—Å–∞–º–∏

**–§–∞–π–ª:** `server/src/main/kotlin/com/prike/domain/koog/SupportAgentKoog.kt`

### 3. –û–±–Ω–æ–≤–ª—ë–Ω SupportService

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–ø—Ä–æ—â—ë–Ω –¥–æ –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ SupportAgentKoog
- –£–±—Ä–∞–Ω–∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ SupportAgentKoog)
- –£–±—Ä–∞–Ω—ã –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –∫ LLMService

**–§–∞–π–ª:** `server/src/main/kotlin/com/prike/domain/service/SupportService.kt`

### 4. –£–¥–∞–ª—ë–Ω –Ω–µ–Ω—É–∂–Ω—ã–π –∫–æ–¥

**–£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚ùå `SupportPromptBuilder.kt` - –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –≤ SupportAgentKoog
- ‚ùå `SupportServiceKoog.kt` - –¥—É–±–ª–∏–∫–∞—Ç, —É–¥–∞–ª—ë–Ω
- ‚ùå –°—Ç–∞—Ä—ã–µ tools —Ñ–∞–π–ª—ã (KoogCRMTools.kt, KoogRAGTools.kt) - –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ

### 5. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `KOOG_GUIDE.md` - –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Koog (1000+ —Å—Ç—Ä–æ–∫)
- `KOOG_INTEGRATION_NOTES.md` - –∑–∞–º–µ—Ç–∫–∏ –ø–æ —Ç–µ–∫—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω–∞–º —É–ª—É—á—à–µ–Ω–∏–π
- `README_KOOG.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å Koog

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Koog –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 7
- **–£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 3
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 3
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** ~800
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω–æ:** ~300

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
SupportController
    ‚Üì
SupportService (–æ–±—ë—Ä—Ç–∫–∞)
    ‚Üì
SupportAgentKoog (Koog –∞–≥–µ–Ω—Ç)
    ‚îú‚îÄ‚îÄ Koog Tools (CRM: 5 tools, RAG: 1 tool)
    ‚îú‚îÄ‚îÄ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
    ‚îî‚îÄ‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ LLM
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–ª–∞—Å—Å—ã, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–µ—Å—è –æ—Ç `BaseTool`:
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `invoke(arguments: JsonElement): ToolResult`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è LLM function calling
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ MCP —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ü—Ä–æ–º–ø—Ç—ã

–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞—é—Ç:
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–∏–∫–µ—Ç–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–∏—Å–∫—É –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## ‚ö†Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **HTTP –≤—ã–∑–æ–≤—ã –≤–º–µ—Å—Ç–æ Koog prompt executor**
   - –ü—Ä–∏—á–∏–Ω–∞: —Ç–æ—á–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è Koog API —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è
   - –†–µ—à–µ–Ω–∏–µ: –ø—Ä—è–º–æ–π HTTP –≤—ã–∑–æ–≤ –∫ OpenRouter API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π function calling
   - TODO: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ø–æ–ª–Ω—ã–π Koog prompt executor API

2. **BaseTool.toKoogTool()**
   - –ü–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º –æ–±—ä–µ–∫—Ç
   - TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ Koog Tool API

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–∑—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è Koog API –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. –ó–∞–º–µ–Ω–∏—Ç—å HTTP –≤—ã–∑–æ–≤—ã –Ω–∞ Koog prompt executor
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ BaseTool –≤ Koog Tool
4. –î–æ–±–∞–≤–∏—Ç—å Koog features (HistoryCompression, Memory, OpenTelemetry)
5. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Koog Ktor plugin –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–¥–∞

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ Koog](./KOOG_GUIDE.md)
- [–ó–∞–º–µ—Ç–∫–∏ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](./KOOG_INTEGRATION_NOTES.md)
- [README —Å Koog](./README_KOOG.md)
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Koog](https://docs.koog.ai/)

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Koog

1. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Kotlin DSL –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
2. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ features
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ì–æ—Ç–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ktor –∏ Spring Boot
4. **–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OpenTelemetry
5. **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
6. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ features

---

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 2024-12-04  
**–í–µ—Ä—Å–∏—è Koog:** 0.5.4

