–¢—ã ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–æ–∑–¥–∞—é—â–∏–π —É—Ä–æ–∫ ¬´üî• –î–µ–Ω—å 15. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤¬ª –≤ –º–æ–¥—É–ª–µ `lesson-15-document-indexing`.

–ü–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `PROMPT.md`. –ü—Ä–æ—á–∏—Ç–∞–π –µ–≥–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã.

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–∑–±–∏–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —á–∞–Ω–∫–∏, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ Ollama, –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏—Ö –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.

**–ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. –†–∞–∑–±–∏–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏ (500-1000 —Ç–æ–∫–µ–Ω–æ–≤) —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è–º–∏ (50-100 —Ç–æ–∫–µ–Ω–æ–≤)
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ Ollama (–º–æ–¥–µ–ª—å `nomic-embed-text`, —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å 768)
3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ (–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ [0; 1] —á–µ—Ä–µ–∑ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 768)
4. –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏ (—Ç–∞–±–ª–∏—Ü—ã `documents` –∏ `document_chunks`)
5. –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ)

## –ü–∞–π–ø–ª–∞–π–Ω –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Markdown —Ñ–∞–π–ª—ã)
   ‚Üì
2. –†–∞–∑–±–∏–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏ (500-1000 —Ç–æ–∫–µ–Ω–æ–≤)
   ‚Üì
3. –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏ (50-100 —Ç–æ–∫–µ–Ω–æ–≤)
   ‚Üì
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ Ollama (nomic-embed-text)
   ‚Üì
5. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ (–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ [0; 1])
   ‚Üì
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (SQLite —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏)
   ‚Üì
7. –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–æ–≤

–†–µ–∞–ª–∏–∑—É–π –ø–æ—à–∞–≥–æ–≤–æ, –∫–∞–∂–¥—ã–π —à–∞–≥ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π git –∫–æ–º–º–∏—Ç:

1. **–ö–æ–º–º–∏—Ç 1:** –†–∞–∑–±–∏–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏ (TextChunker, TokenCounter)
2. **–ö–æ–º–º–∏—Ç 2:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (OllamaClient, EmbeddingService)
3. **–ö–æ–º–º–∏—Ç 3:** –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ (VectorNormalizer)
4. **–ö–æ–º–º–∏—Ç 4:** –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (SQLite —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏, KnowledgeBaseRepository)
5. **–ö–æ–º–º–∏—Ç 5:** –ü–∞–π–ø–ª–∞–π–Ω –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (DocumentIndexer, DocumentLoader)
6. **–ö–æ–º–º–∏—Ç 6:** –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (KnowledgeBaseSearchService, CosineSimilarityCalculator)
7. **–ö–æ–º–º–∏—Ç 7:** UI –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **Ollama –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –∑–∞–ø—É—â–µ–Ω–∞:**
   - –°–∫–∞—á–∞–π Ollama: https://ollama.ai/
   - –ó–∞–≥—Ä—É–∑–∏ –º–æ–¥–µ–ª—å: `ollama pull nomic-embed-text`
   - –ü—Ä–æ–≤–µ—Ä—å: `curl http://localhost:11434/api/tags`

2. **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞:**
   - –ú–æ–¥–µ–ª—å `nomic-embed-text` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä—ã —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ 768

3. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
   - –ò—Å–ø–æ–ª—å–∑—É–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 768: `value / 768`
   - –≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫ –¥–∏–∞–ø–∞–∑–æ–Ω—É [0; 1] (–ø—Ä–∏–º–µ—Ä–Ω–æ)

4. **–•—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:**
   - –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ JSON —Å—Ç—Ä–æ–∫—É –∏–ª–∏ BLOB
   - –î–ª—è –Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π JSON —Å—Ç—Ä–æ–∫—É (–ª–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å)

5. **–ü–æ–∏—Å–∫:**
   - –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
   - –î–ª—è –Ω–∞—á–∞–ª–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∑–∞–ø–∏—Å—è–º
   - –î–ª—è –±–æ–ª—å—à–∏—Ö –±–∞–∑ –∑–Ω–∞–Ω–∏–π –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å (–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ë–î)

6. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
   - –í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config/server.yaml` (–Ω–µ –≤ `.env`)
   - `.env` —Ñ–∞–π–ª –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `ollama.baseUrl`, `ollama.model`, `knowledgeBase.databasePath`, `indexing.chunkSize`, `indexing.overlapSize`

7. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
   - –ï—Å–ª–∏ Ollama –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–π –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É
   - –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å ‚Äî –ª–æ–≥–∏—Ä—É–π –∏ –ø—Ä–æ–ø—É—Å–∫–∞–π
   - –ï—Å–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ‚Äî –ø–æ–≤—Ç–æ—Ä—è–π –ø–æ–ø—ã—Ç–∫—É (—Å –ª–∏–º–∏—Ç–æ–º)

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Kotlin + Ktor + Clean Architecture
- SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- Ollama API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- Vanilla JS –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `PROMPT.md` ‚Äî –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- `THEORY.md` ‚Äî —Ç–µ–æ—Ä–∏—è –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º, —á–∞–Ω–∫–∞–º, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è–º, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- `README.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞

## –¶–µ–ª–∏ —É—Ä–æ–∫–∞

- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç–º–±–µ–¥–¥–µ—Ä–∞–º–∏
- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π

–ù–∞—á–Ω–∏ —Å —á—Ç–µ–Ω–∏—è `PROMPT.md` –∏ `THEORY.md`, –∑–∞—Ç–µ–º –ø—Ä–∏—Å—Ç—É–ø–∞–π –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —à–∞–≥–∞–º.

