# üî• –î–µ–Ω—å 16. –ü–µ—Ä–≤—ã–π RAG-–∑–∞–ø—Ä–æ—Å

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è RAG (Retrieval-Augmented Generation) —Å–∏—Å—Ç–µ–º—ã: –≤–æ–ø—Ä–æ—Å ‚Üí –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ ‚Üí –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –≤–æ–ø—Ä–æ—Å–æ–º ‚Üí –∑–∞–ø—Ä–æ—Å –∫ LLM. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –º–æ–¥–µ–ª–∏ —Å RAG –∏ –±–µ–∑ RAG, –∞–Ω–∞–ª–∏–∑ —Ç–æ–≥–æ, –≥–¥–µ RAG –ø–æ–º–æ–≥–∞–µ—Ç, –∞ –≥–¥–µ ‚Äî –Ω–µ—Ç.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç —É—Ä–æ–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ RAG-—Å–∏—Å—Ç–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –∏–∑ —É—Ä–æ–∫–∞ 15:
- **–ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤** –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –ø–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É
- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤** –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–ø–æ–ª–µ content)
- **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤** —Å RAG (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º) –∏ –±–µ–∑ RAG (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤** –∏ –∞–Ω–∞–ª–∏–∑ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤/–Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ RAG

## üéØ –ü–∞–π–ø–ª–∞–π–Ω RAG-–∑–∞–ø—Ä–æ—Å–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å
   ‚Üì
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞
   ‚Üì
3. –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ)
   ‚Üì
4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —á–∞–Ω–∫–æ–≤ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–ø–æ–ª–µ content)
   ‚Üì
5. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ —á–∞–Ω–∫–æ–≤
   ‚Üì
6. –ó–∞–ø—Ä–æ—Å –∫ LLM —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (RAG-—Ä–µ–∂–∏–º)
   ‚Üì
7. –ó–∞–ø—Ä–æ—Å –∫ LLM –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
   ‚Üì
8. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –≤—ã–≤–æ–¥—ã
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–í–æ–ø—Ä–æ—Å ‚Üí KnowledgeBaseService ‚Üí –ü–æ–∏—Å–∫ —á–∞–Ω–∫–æ–≤
                                    ‚Üì
                    –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ –ë–î (–ø–æ–ª–µ content)
                                    ‚Üì
                    PromptBuilder ‚Üí –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
                                    ‚Üì
                    RAGService ‚Üí –ó–∞–ø—Ä–æ—Å –∫ LLM (RAG)
                                    ‚Üì
                    ComparisonService ‚Üí –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º —Ä–µ–∂–∏–º–æ–º
                                    ‚Üì
                    –ê–Ω–∞–ª–∏–∑ –∏ –≤—ã–≤–æ–¥—ã
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lesson-16-rag-query/
‚îú‚îÄ‚îÄ README.md              # –û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ PROMPT.md              # –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ THEORY.md              # –¢–µ–æ—Ä–∏—è –ø–æ RAG
‚îú‚îÄ‚îÄ CHAT_PROMPT.txt        # –ö—Ä–∞—Ç–∫–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ server.yaml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Ollama, –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π, RAG)
‚îú‚îÄ‚îÄ server/                # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Kotlin + Ktor)
‚îÇ   ‚îî‚îÄ‚îÄ src/main/kotlin/com/prike/
‚îÇ       ‚îú‚îÄ‚îÄ data/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ repository/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ KnowledgeBaseRepository.kt
‚îÇ       ‚îú‚îÄ‚îÄ domain/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ KnowledgeBaseService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAGService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromptBuilder.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ComparisonService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ResponseAnalyzer.kt
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ RAGRequest.kt
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ RAGResponse.kt
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ ComparisonResult.kt
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ RetrievedChunk.kt
‚îÇ       ‚îî‚îÄ‚îÄ presentation/
‚îÇ           ‚îú‚îÄ‚îÄ controller/
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ RAGController.kt
‚îÇ           ‚îî‚îÄ‚îÄ dto/
‚îÇ               ‚îú‚îÄ‚îÄ RAGQueryRequestDto.kt
‚îÇ               ‚îú‚îÄ‚îÄ RAGQueryResponseDto.kt
‚îÇ               ‚îî‚îÄ‚îÄ ComparisonResponseDto.kt
‚îî‚îÄ‚îÄ client/                # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Vanilla JS)
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ rag.html           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ RAG-–∑–∞–ø—Ä–æ—Å–æ–≤
    ‚îú‚îÄ‚îÄ compare.html       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ style.css
    ‚îî‚îÄ‚îÄ app.js
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∏–∑ —É—Ä–æ–∫–∞ 15:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
   - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `documents` –∏ `document_chunks`
   - –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø–∞–ø–∫–µ `documents/`

2. **Ollama:**
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –∑–∞–ø—É—â–µ–Ω–∞: https://ollama.ai/
   - –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤: `ollama pull llama3.2` (–∏–ª–∏ –¥—Ä—É–≥–∞—è)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: `curl http://localhost:11434/api/tags`

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω–æ):
```bash
git clone <repository-url>
cd ai_challenge_november/lesson-16-rag-query
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
cp config/server.yaml.example config/server.yaml

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config/server.yaml:
# - ollama.baseUrl
# - ollama.chatModel
# - knowledgeBase.databasePath
# documentsPath –Ω–µ –Ω—É–∂–µ–Ω - —Ç–µ–∫—Å—Ç —á–∞–Ω–∫–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
cd server
./gradlew run
```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–ª–∏–µ–Ω—Ç:**
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open client/index.html
# –∏–ª–∏
http://localhost:8080
```

## üì° API Endpoints

### 1. RAG-–∑–∞–ø—Ä–æ—Å (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º)

**POST** `/api/rag/query`

**Request:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?",
  "topK": 3,
  "minSimilarity": 0.5
}
```

**Response:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?",
  "answer": "–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–Ω–æ...",
  "contextChunks": [
    {
      "chunkId": "...",
      "documentPath": "documents/01-mcp-server-creation.md",
      "content": "...",
      "similarity": 0.89
    }
  ],
  "mode": "RAG",
  "tokensUsed": 150
}
```

### 2. –û–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

**POST** `/api/rag/standard`

**Request:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?"
}
```

**Response:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?",
  "answer": "MCP —Å–µ—Ä–≤–µ—Ä –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å...",
  "contextChunks": [],
  "mode": "STANDARD",
  "tokensUsed": 120
}
```

### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤

**POST** `/api/rag/compare`

**Request:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?",
  "topK": 3,
  "minSimilarity": 0.5
}
```

**Response:**
```json
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?",
  "ragResponse": { ... },
  "standardResponse": { ... },
  "analysis": {
    "ragAdvantages": [
      "–ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏",
      "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞"
    ],
    "ragDisadvantages": [],
    "accuracyComparison": "RAG –æ—Ç–≤–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π",
    "completenessComparison": "RAG –æ—Ç–≤–µ—Ç –±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π",
    "relevanceScore": 0.92
  },
  "insights": [
    {
      "type": "RAG_HELPED",
      "description": "RAG –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏",
      "evidence": "–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ—á–Ω—ã–µ —à–∞–≥–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞..."
    }
  ]
}
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config/server.yaml`:

```yaml
ollama:
  baseUrl: "http://localhost:11434"
  chatModel: "llama3.2"  # –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
  embeddingModel: "nomic-embed-text"  # –º–æ–¥–µ–ª—å –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)
  timeout: 30000

knowledgeBase:
  databasePath: "data/knowledge_base.db"  # –ø—É—Ç—å –∫ –ë–î –∏–∑ —É—Ä–æ–∫–∞ 15
  # documentsPath –Ω–µ –Ω—É–∂–µ–Ω - —Ç–µ–∫—Å—Ç —á–∞–Ω–∫–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î

rag:
  topK: 3  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  minSimilarity: 0.5  # –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
  maxContextLength: 2000  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–≤ —Ç–æ–∫–µ–Ω–∞—Ö)
  
prompt:
  systemMessage: "–¢—ã ‚Äî –ø–æ–º–æ—â–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π."
  contextFormat: "[–ß–∞–Ω–∫ {index}] (–¥–æ–∫—É–º–µ–Ω—Ç: {document}, —Å—Ö–æ–¥—Å—Ç–≤–æ: {similarity})\n{content}\n"
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –í–æ–ø—Ä–æ—Å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–í–æ–ø—Ä–æ—Å:** "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?"

**RAG-–æ—Ç–≤–µ—Ç:**
```
–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞ –Ω—É–∂–Ω–æ:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SDK
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å Server
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
...
(–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
```

**–û–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```
MCP —Å–µ—Ä–≤–µ—Ä –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π SDK...
(–æ–±—â–∏–µ –∑–Ω–∞–Ω–∏—è LLM)
```

**–í—ã–≤–æ–¥:** RAG –ø–æ–º–æ–≥ ‚Äî –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

### –ü—Ä–∏–º–µ—Ä 2: –û–±—â–∏–π –≤–æ–ø—Ä–æ—Å

**–í–æ–ø—Ä–æ—Å:** "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ?"

**RAG-–æ—Ç–≤–µ—Ç:**
```
–í –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.
(LLM –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–∏—Ö –∑–Ω–∞–Ω–∏–π)
```

**–û–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```
–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º...
(–æ–±—â–∏–µ –∑–Ω–∞–Ω–∏—è LLM)
```

**–í—ã–≤–æ–¥:** RAG –Ω–µ –ø–æ–º–æ–≥ ‚Äî –≤–æ–ø—Ä–æ—Å –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ì–¥–µ RAG –ø–æ–º–æ–≥–∞–µ—Ç:

1. **–í–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
   - –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

2. **–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–Ω–∞–Ω–∏—è:**
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

### –ì–¥–µ RAG –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. **–í–æ–ø—Ä–æ—Å—ã –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
   - –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
   - –í–æ–ø—Ä–æ—Å—ã –Ω–µ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

2. **–£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
   - –î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:

1. **–í–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ RAG –¥–æ–ª–∂–µ–Ω –ø–æ–º–æ—á—å:**
   - "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?"
   - "–ö–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ Ollama?"
   - "–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —á–∞–Ω–∫–æ–≤?"
   - "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ?"

2. **–í–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ RAG –º–æ–∂–µ—Ç –Ω–µ –ø–æ–º–æ—á—å:**
   - "–ö–∞–∫ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –±–æ—Ä—â?" (–Ω–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö)
   - "–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞?" (–Ω–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö)
   - –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ LLM –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —á–∞–Ω–∫–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Ollama:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –º–æ–¥–µ–ª—å

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π:**
   - –î–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —á–∞–Ω–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º (–ø–æ–ª–µ `content`)
   - –¢–µ–∫—Å—Ç —á–∞–Ω–∫–æ–≤ —É–∂–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î, —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã RAG

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **PROMPT.md** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- **THEORY.md** ‚Äî —Ç–µ–æ—Ä–∏—è –ø–æ RAG, –ø–æ–∏—Å–∫—É, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **CHAT_PROMPT.txt** ‚Äî –∫—Ä–∞—Ç–∫–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞

## üéì –¶–µ–ª–∏ —É—Ä–æ–∫–∞

- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å RAG-–∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–Ω—è—Ç—å, –∫–æ–≥–¥–∞ RAG –ø–æ–º–æ–≥–∞–µ—Ç, –∞ –∫–æ–≥–¥–∞ ‚Äî –Ω–µ—Ç
- –°—Ä–∞–≤–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç—ã —Å RAG –∏ –±–µ–∑ RAG
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –≤ –∞–≥–µ–Ω—Ç–∞

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∏

- [lesson-15-document-indexing](../lesson-15-document-indexing/) ‚Äî –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏ (–±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [RAG: Retrieval-Augmented Generation (Paper)](https://arxiv.org/abs/2005.11401)
- [LangChain RAG Tutorial](https://python.langchain.com/docs/use_cases/question_answering/)
- [Ollama API Documentation](https://ollama.ai/docs/api)

