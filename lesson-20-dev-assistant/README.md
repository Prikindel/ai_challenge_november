# üî• –î–µ–Ω—å 20. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RAG –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (README, API, —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö), —á–µ—Ä–µ–∑ MCP –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–º—É git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏) –∏ –∏–º–µ–µ—Ç –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

> üìπ –í–∏–¥–µ–æ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ (—Ñ–æ—Ä–º–∞—Ç: –í–∏–¥–µ–æ + –ö–æ–¥).

**–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ UI
2. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (README + `project/docs/`)
3. –ó–∞–ø—É—Å–∫ MCP git-—Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã `/help` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
5. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Å —Ü–∏—Ç–∞—Ç–∞–º–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
6. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π git-–≤–µ—Ç–∫–µ

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã:
- –ö–æ–ø–∏—Ä—É–µ–º —á–∞—Ç —Å RAG-–ø–∞–º—è—Ç—å—é –∏–∑ —É—Ä–æ–∫–∞ 19
- –î–æ–±–∞–≤–ª—è–µ–º **–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞** (README + `project/docs/`)
- –°–æ–∑–¥–∞—ë–º **MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å git** (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º **MCP git-—Å–µ—Ä–≤–µ—Ä –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä**
- –†–µ–∞–ª–∏–∑—É–µ–º **–∫–æ–º–∞–Ω–¥—É /help** –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
- –û–±–Ω–æ–≤–ª—è–µ–º **—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç** –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –°–æ–∑–¥–∞—ë–º **UI –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**

## üéØ –ü–∞–π–ø–ª–∞–π–Ω

```
–ö–æ–º–∞–Ω–¥–∞ /help [–≤–æ–ø—Ä–æ—Å]
  ‚Üì
–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
  ‚Üì
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π git-–≤–µ—Ç–∫–∏ (MCP)
  ‚Üì
RAG-–ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
  ‚Üì
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
  ‚Üì
–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  ‚Üì
–ó–∞–ø—Ä–æ—Å –∫ OpenRouter (LLMService)
  ‚Üì
–ü–∞—Ä—Å–∏–Ω–≥ —Ü–∏—Ç–∞—Ç –∏–∑ –æ—Ç–≤–µ—Ç–∞ (CitationParser)
  ‚Üì
–í–æ–∑–≤—Ä–∞—Ç –æ—Ç–≤–µ—Ç–∞ —Å —Ü–∏—Ç–∞—Ç–∞–º–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
lesson-20-dev-assistant/
‚îú‚îÄ‚îÄ config/server.yaml
‚îú‚îÄ‚îÄ data/knowledge_base.db    # –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (–≤–∫–ª—é—á–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞)
‚îú‚îÄ‚îÄ project/
‚îÇ   ‚îî‚îÄ‚îÄ docs/                 # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ README.md (–∏–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–π)
‚îÇ       ‚îú‚îÄ‚îÄ api.md
‚îÇ       ‚îî‚îÄ‚îÄ schema.md
‚îú‚îÄ‚îÄ mcp-git-server/            # MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è git
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ kotlin/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ GitMCPServer.kt
‚îÇ   ‚îú‚îÄ‚îÄ build.gradle.kts
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îî‚îÄ‚îÄ src/main/kotlin/com/prike/
‚îÇ       ‚îú‚îÄ‚îÄ data/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ client/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OllamaClient.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OpenAIClient.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MCPClient.kt        # –æ–±–Ω–æ–≤–ª—ë–Ω: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ git MCP
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ repository/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ AIRepository.kt
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ KnowledgeBaseRepository.kt
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ChatRepository.kt
‚îÇ       ‚îú‚îÄ‚îÄ domain/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ agent/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ indexing/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DocumentIndexer.kt  # –æ–±–Ω–æ–≤–ª—ë–Ω: –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è project/docs
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EmbeddingService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ KnowledgeBaseSearchService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LLMService.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromptBuilder.kt     # –æ–±–Ω–æ–≤–ª—ë–Ω: –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAGService.kt        # –æ–±–Ω–æ–≤–ª—ë–Ω: queryProjectDocs()
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CitationParser.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatService.kt       # –æ–±–Ω–æ–≤–ª—ë–Ω: –æ–±—Ä–∞–±–æ—Ç–∫–∞ /help
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatPromptBuilder.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GitMCPService.kt    # –Ω–æ–≤—ã–π: —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å git MCP
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RelevanceFilter.kt
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RerankerService.kt
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ model/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ Citation.kt
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ ChatMessage.kt
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ ChatSession.kt
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îî‚îÄ‚îÄ presentation/
‚îÇ           ‚îú‚îÄ‚îÄ controller/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ ClientController.kt
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ IndexingController.kt  # –æ–±–Ω–æ–≤–ª—ë–Ω: index-project-docs
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ SearchController.kt
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ LLMController.kt
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ RAGController.kt
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ DocumentController.kt
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ ChatController.kt      # –æ–±–Ω–æ–≤–ª—ë–Ω: –æ–±—Ä–∞–±–æ—Ç–∫–∞ /help
‚îÇ           ‚îî‚îÄ‚îÄ dto/
‚îÇ               ‚îú‚îÄ‚îÄ DocumentDtos.kt
‚îÇ               ‚îú‚îÄ‚îÄ ErrorResponse.kt
‚îÇ               ‚îú‚îÄ‚îÄ RAGDtos.kt
‚îÇ               ‚îú‚îÄ‚îÄ CitationDtos.kt
‚îÇ               ‚îî‚îÄ‚îÄ ChatDtos.kt
‚îî‚îÄ‚îÄ client/                # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Vanilla JS)
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ indexing.html      # –æ–±–Ω–æ–≤–ª—ë–Ω: –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è project/docs
    ‚îú‚îÄ‚îÄ indexing.js
    ‚îú‚îÄ‚îÄ search.html
    ‚îú‚îÄ‚îÄ search.js
    ‚îú‚îÄ‚îÄ rag-compare.html
    ‚îú‚îÄ‚îÄ rag-compare.js
    ‚îú‚îÄ‚îÄ document-viewer.html
    ‚îú‚îÄ‚îÄ document-viewer.js
    ‚îú‚îÄ‚îÄ citation-test.html
    ‚îú‚îÄ‚îÄ citation-test.js
    ‚îú‚îÄ‚îÄ chat.html          # –æ–±–Ω–æ–≤–ª—ë–Ω: –∫–æ–º–∞–Ω–¥–∞ /help, git-–≤–µ—Ç–∫–∞
    ‚îú‚îÄ‚îÄ chat.js            # –æ–±–Ω–æ–≤–ª—ë–Ω: –æ–±—Ä–∞–±–æ—Ç–∫–∞ /help
    ‚îú‚îÄ‚îÄ dev-assistant.html # –Ω–æ–≤—ã–π: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    ‚îú‚îÄ‚îÄ dev-assistant.js   # –Ω–æ–≤—ã–π: –ª–æ–≥–∏–∫–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
    ‚îú‚îÄ‚îÄ citations.js
    ‚îú‚îÄ‚îÄ style.css
    ‚îî‚îÄ‚îÄ app.js
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
   - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ `documents` –∏ `document_chunks`

2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
   - –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `project/docs/` —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã: `api.md`, `schema.md` –∏ —Ç.–¥.
   - –ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `README.md` –≤ `project/docs/`

3. **Git:**
   - –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
   - Git –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH

4. **Ollama:**
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω Ollama
   - –ú–æ–¥–µ–ª—å `nomic-embed-text` –¥–æ—Å—Ç—É–ø–Ω–∞

5. **OpenRouter:**
   - API –∫–ª—é—á –≤ `.env` –∫–∞–∫ `OPENAI_API_KEY`
   - –ú–æ–¥–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ `config/server.yaml`

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —É—Ä–æ–∫–∞
cd lesson-20-dev-assistant

# –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p project/docs
# –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ project/docs/

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp config/server.yaml.example config/server.yaml
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å config/server.yaml

# –°–æ–∑–¥–∞—Ç—å .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)
echo "OPENAI_API_KEY=your_key_here" >> ../../.env

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
cd server
./gradlew build

# –°–æ–±—Ä–∞—Ç—å MCP git-—Å–µ—Ä–≤–µ—Ä
cd ../mcp-git-server
./gradlew build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
cd ../server
./gradlew run
```

### –ó–∞–ø—É—Å–∫

```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8080
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- **–ì–ª–∞–≤–Ω–∞—è:** http://localhost:8080/
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:** http://localhost:8080/indexing.html
- **–ß–∞—Ç:** http://localhost:8080/chat.html
- **–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:** http://localhost:8080/dev-assistant.html

## üì° API

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

#### –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞

**POST** `/api/indexing/index-project-docs`

**Response:**
```json
{
  "success": true,
  "documentsIndexed": 3,
  "chunksCreated": 15,
  "documents": [
    {
      "path": "project/docs/api.md",
      "chunksCount": 5
    },
    {
      "path": "README.md",
      "chunksCount": 10
    }
  ]
}
```

### –ß–∞—Ç (–æ–±–Ω–æ–≤–ª—ë–Ω)

#### –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π /help)

**POST** `/api/chat/sessions/{sessionId}/messages`

**Request:**
```json
{
  "message": "/help –ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞?",
  "topK": 5,
  "minSimilarity": 0.4,
  "applyFilter": true,
  "strategy": "hybrid",
  "historyStrategy": "sliding"
}
```

**Response:**
```json
{
  "message": {
    "id": "660e8400-e29b-41d4-a716-446655440001",
    "sessionId": "550e8400-e29b-41d4-a716-446655440000",
    "role": "ASSISTANT",
    "content": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É—é—â–∞—è:\n- server/ ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å\n- client/ ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å\n[–ò—Å—Ç–æ—á–Ω–∏–∫: README.md](README.md)",
    "citations": [
      {
        "text": "[–ò—Å—Ç–æ—á–Ω–∏–∫: README.md](README.md)",
        "documentPath": "README.md",
        "documentTitle": "README",
        "chunkId": null
      }
    ],
    "createdAt": 1705320610000
  },
  "sessionId": "550e8400-e29b-41d4-a716-446655440000",
  "gitBranch": "main"
}
```

### MCP Git

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É

**GET** `/api/git/branch`

**Response:**
```json
{
  "branch": "main",
  "cached": false
}
```

### –î—Ä—É–≥–∏–µ API (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: `POST /api/indexing/index`, `GET /api/indexing/documents`
- –ü–æ–∏—Å–∫: `POST /api/search/query`
- RAG: `POST /api/rag/query`, `POST /api/rag/compare`
- –î–æ–∫—É–º–µ–Ω—Ç—ã: `GET /api/documents/{documentPath}`
- –ß–∞—Ç: `POST /api/chat/sessions`, `GET /api/chat/sessions/{sessionId}/messages`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### config/server.yaml

```yaml
server:
  port: 8080
  host: "0.0.0.0"

ollama:
  baseUrl: "http://localhost:11434"
  model: "nomic-embed-text"
  timeout: 120000

knowledgeBase:
  databasePath: "data/knowledge_base.db"

indexing:
  chunkSize: 400
  overlapSize: 50
  documentsPath: "documents"
  projectDocsPath: "project/docs"      # –ø—É—Ç—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
  projectReadmePath: "README.md"       # –ø—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É README

ai:
  provider: "openrouter"
  apiKey: "${OPENAI_API_KEY}"
  model: "gpt-4o-mini"
  temperature: 0.7
  maxTokens: 2000

rag:
  retrieval:
    topK: 5
    minSimilarity: 0.4
  filter:
    enabled: true
    type: "hybrid"
    threshold:
      minSimilarity: 0.6
      keepTop: 3
    reranker:
      model: "gpt-4o-mini"
      maxChunks: 6
      systemPrompt: "–¢—ã ‚Äî reranker. –û—Ü–µ–Ω–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ –≤–æ–ø—Ä–æ—Å—É."

chat:
  history:
    maxMessages: 10
    maxTokens: 2000
    strategy: "sliding"

mcp:
  git:
    enabled: true
    cacheTimeout: 60000                # –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 1 –º–∏–Ω—É—Ç—É
```

### .env (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

```bash
OPENAI_API_KEY=your_openrouter_api_key
```

## üí° –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/indexing.html`
2. –ù–∞–∂–∞—Ç—å "–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞"
3. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ `project/docs/` –∏ `README.md` –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è RAG-–ø–æ–∏—Å–∫–∞
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /help

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/chat.html` –∏–ª–∏ `/dev-assistant.html`
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `/help –ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞?`
4. –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç —Å —Ü–∏—Ç–∞—Ç–∞–º–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –í—Å–µ —Ñ–∞–∫—Ç—ã –∏–º–µ—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- –ú–æ–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å—Å—ã–ª–∫—É –∏ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ git-–≤–µ—Ç–∫–µ

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/dev-assistant.html`
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é git-–≤–µ—Ç–∫—É (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. –ò–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å –≤ —á–∞—Ç–µ: "–ù–∞ –∫–∞–∫–æ–π –≤–µ—Ç–∫–µ —è —Å–µ–π—á–∞—Å?"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è git-–≤–µ—Ç–∫–∞
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –æ—Ç–≤–µ—Ç–∞—Ö

### 4. –í–æ–ø—Ä–æ—Å—ã –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:**
- `/help –ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞?`
- `/help –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API?`
- `/help –ö–∞–∫–∏–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?`
- `/help –ö–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞?`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ç–≤–µ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –∏–º–µ—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –æ—Ç–∫—Ä—ã–≤ –¥–æ–∫—É–º–µ–Ω—Ç

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/dev-assistant.html` –º–æ–∂–Ω–æ:
1. –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–µ–∫—É—â–∞—è git-–≤–µ—Ç–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç–≤–µ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ü–∏—Ç–∞—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
5. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å—Å—ã–ª–∫–∏ –∏ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `/help` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–∫—É

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

**–í–æ–ø—Ä–æ—Å—ã –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:**
- `/help –ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞?`
- `/help –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã?`

**–í–æ–ø—Ä–æ—Å—ã –æ–± API:**
- `/help –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API?`
- `/help –ö–∞–∫–∏–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã?`

**–í–æ–ø—Ä–æ—Å—ã –æ –¥–∞–Ω–Ω—ã—Ö:**
- `/help –ö–∞–∫–∏–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?`
- `/help –ö–∞–∫ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ?`

## üéì –¶–µ–ª–∏ —É—Ä–æ–∫–∞

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ RAG
- –°–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å git (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ç–∫–∏)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å MCP git-—Å–µ—Ä–≤–µ—Ä –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
- –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –°–æ–∑–¥–∞—Ç—å UI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
- –ü–æ–ª—É—á–∏—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å RAG, MCP –∏ –∫–æ–º–∞–Ω–¥–æ–π /help (–í–∏–¥–µ–æ + –ö–æ–¥)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∏

- [lesson-19-rag-chat](../lesson-19-rag-chat/) ‚Äî –º–∏–Ω–∏-—á–∞—Ç —Å –ø–∞–º—è—Ç—å—é –Ω–∞ RAG
- [lesson-18-rag-citations](../lesson-18-rag-citations/) ‚Äî —Ü–∏—Ç–∞—Ç—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- [lesson-14-orchestration](../lesson-14-orchestration/) ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
- [lesson-11-first-mcp-tool](../lesson-11-first-mcp-tool/) ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [RAG: Retrieval-Augmented Generation](https://arxiv.org/abs/2005.11401) ‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è –æ RAG
- [MCP: Model Context Protocol](https://modelcontextprotocol.io/) ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª MCP
- [AI Coding Assistants](https://www.pinecone.io/learn/ai-coding-assistants/) ‚Äî –ø—Ä–æ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [Documentation as Code](https://www.writethedocs.org/guide/docs-as-code/) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞–∫ –∫–æ–¥
- [THEORY.md](./THEORY.md) ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è —Ç–µ–æ—Ä–∏—è –ø—Ä–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã —É—Ä–æ–∫–∞

1. **RAG –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ç–æ—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
2. **MCP –¥–ª—è git:** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ç–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞)
3. **–ö–æ–º–∞–Ω–¥–∞ /help:** —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø—Ä–æ–µ–∫—Ç–µ
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** —É–ª—É—á—à–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤
5. **–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ–ª—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** RAG + MCP + –ß–∞—Ç –¥–∞—é—Ç –º–æ—â–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
