<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ç–∞—Ç</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏—Ç–∞—Ç</h1>
            <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–∞—Ö —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ —Ü–∏—Ç–∞—Ç –∏ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π</p>
        </header>
        
        <main>
            <nav class="tabs">
                <a href="index.html" class="tab">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="indexing.html" class="tab">–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è</a>
                <a href="search.html" class="tab">–ü–æ–∏—Å–∫</a>
                <a href="rag-compare.html" class="tab">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ RAG</a>
                <a href="citation-test.html" class="tab active">–¢–µ—Å—Ç —Ü–∏—Ç–∞—Ç</a>
                <a href="chat.html" class="tab">–ß–∞—Ç</a>
            </nav>
            
            <section class="test-section">
                <h2>–¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                
                <div class="form-group">
                    <label>–í–æ–ø—Ä–æ—Å—ã (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É):</label>
                    <textarea id="questionsInput" rows="6" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å—ã...">–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä?
–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ?
–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥?
–ö–∞–∫ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ Ollama?
–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —á–∞–Ω–∫–æ–≤?</textarea>
                </div>
                
                <div class="form-group">
                    <label for="testTopK">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:</label>
                    <input type="number" id="testTopK" value="5" min="1" max="10">
                </div>
                
                <div class="form-group">
                    <label for="testMinSimilarity">–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ:</label>
                    <input type="number" id="testMinSimilarity" value="0.4" min="0" max="1" step="0.1">
                </div>
                
                <div class="form-group">
                    <label for="testStrategy">–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:</label>
                    <select id="testStrategy">
                        <option value="hybrid" selected>–ì–∏–±—Ä–∏–¥–Ω–∞—è</option>
                        <option value="threshold">–ü–æ—Ä–æ–≥–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä</option>
                        <option value="reranker">LLM –†–µ—Ä–∞–Ω–∫–µ—Ä</option>
                        <option value="none">–ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞</option>
                    </select>
                </div>
                
                <button id="testButton">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                
                <div id="testStatus" class="status"></div>
            </section>
            
            <section class="test-results" id="testResults" style="display: none;">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
                
                <!-- –ú–µ—Ç—Ä–∏–∫–∏ -->
                <div class="metrics-panel">
                    <h3>üìä –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏</h3>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <span class="metric-label">–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</span>
                            <span class="metric-value" id="totalQuestions">-</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">–í–æ–ø—Ä–æ—Å–æ–≤ —Å —Ü–∏—Ç–∞—Ç–∞–º–∏:</span>
                            <span class="metric-value" id="questionsWithCitations">-</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">–°—Ä–µ–¥–Ω–µ–µ —Ü–∏—Ç–∞—Ç –Ω–∞ –æ—Ç–≤–µ—Ç:</span>
                            <span class="metric-value" id="avgCitations">-</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">–í–∞–ª–∏–¥–Ω—ã—Ö —Ü–∏—Ç–∞—Ç:</span>
                            <span class="metric-value" id="validCitationsPct">-</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">–û—Ç–≤–µ—Ç–æ–≤ –±–µ–∑ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π:</span>
                            <span class="metric-value" id="answersWithoutHallucinations">-</span>
                        </div>
                    </div>
                </div>
                
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º -->
                <div class="test-results-list" id="testResultsList"></div>
            </section>
        </main>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="app.js"></script>
    <script src="citations.js"></script>
    <script src="document-viewer.js"></script>
    <script src="citation-test.js"></script>
</body>
</html>

